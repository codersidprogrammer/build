(this.webpackJsonpwebcdb=this.webpackJsonpwebcdb||[]).push([[0],{115:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(1),i=(n(0),n(542));function c(e){var t=e.height,n=e.width;return Object(a.jsx)(i.a,{style:{marginTop:10,width:"100%"},variant:"rect",width:n,height:t})}},118:function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));var a=n(25),i=n(40),c=Object(i.b)({name:"WidgetDataSlice",initialState:{widgetDataContainer:{}},reducers:{setWidgetDataContainer:function(e,t){e.widgetDataContainer=Object(a.a)(Object(a.a)({},e.widgetDataContainer),t.payload)}}}),r=c.actions.setWidgetDataContainer;t.a=c.reducer},119:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o}));var a=n(40),i=Object(a.b)({name:"BoxSettingsSlice",initialState:{connectionsList:[],connectionFields:[]},reducers:{setBoxSettingsConnectionFields:function(e,t){e.connectionFields=t.payload},setBoxSettingsConnectionList:function(e,t){e.connectionsList=t.payload}}}),c=i.actions,r=c.setBoxSettingsConnectionFields,o=c.setBoxSettingsConnectionList;t.a=i.reducer},13:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return d}));var a=n(40),i=Object(a.b)({name:"AppSlice",initialState:{shouldBoxRefresh:!1,isDrawerOpen:!0,useOwnDataField:!1,fetchingStatus:!1,fetchingMessage:{message:"",severity:"info",isOpen:!1},shouldRender:!1},reducers:{setDrawerState:function(e,t){e.isDrawerOpen=t.payload},setFetchingState:function(e,t){e.fetchingMessage=t.payload,e.fetchingStatus=t.payload.fetchingStatus},setFetchingMessage:function(e,t){e.fetchingMessage=t.payload},setFetchingStatus:function(e,t){e.fetchingStatus=t.payload},setAppReRender:function(e,t){e.shouldRender=t.payload},setBoxShouldRefresh:function(e,t){e.shouldBoxRefresh=t.payload},setUseOwnDataField:function(e,t){e.useOwnDataField=t.payload}}}),c=i.actions,r=c.setDrawerState,o=c.setFetchingState,s=c.setAppReRender,l=c.setFetchingMessage,d=c.setFetchingStatus;c.setBoxShouldRefresh;t.a=i.reducer},17:function(e,t,n){"use strict";n.d(t,"i",(function(){return s})),n.d(t,"j",(function(){return l})),n.d(t,"k",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"d",(function(){return b})),n.d(t,"b",(function(){return j})),n.d(t,"m",(function(){return x})),n.d(t,"n",(function(){return g})),n.d(t,"h",(function(){return h})),n.d(t,"e",(function(){return O})),n.d(t,"c",(function(){return p})),n.d(t,"o",(function(){return m})),n.d(t,"r",(function(){return f})),n.d(t,"q",(function(){return v})),n.d(t,"l",(function(){return w})),n.d(t,"p",(function(){return y})),n.d(t,"f",(function(){return S}));var a=n(25),i=n(40),c={data:{source:"",value:""},layout:{x:0,y:0,w:0,h:0,minW:2,minH:9,i:"0",moved:!1,static:!1},options:{},properties:{title:"",subtitle:""},self:{type:"",variant:""},widgetId:0},r=Object(i.b)({name:"WidgetSlice",initialState:c,reducers:{setWidgetData:function(e,t){e.data.source=t.payload.source,e.data.value=t.payload.value},setWidgetDataSource:function(e,t){e.data.source=t.payload},setWidgetDataValue:function(e,t){e.data.value=t.payload},setWidgetArrayDataValue:function(e,t){e.data.value[t.payload.index]=t.payload.value},resetWidgetDataValueArray:function(e){e.data.value=[]},deleteWidgetArrayDataValue:function(e,t){var n=e.data.value;e.data.value=n.filter((function(e){return e!==t.payload}))},setWidgetLayout:function(e,t){e.layout.x=t.payload.x,e.layout.y=t.payload.y,e.layout.w=t.payload.w,e.layout.h=t.payload.h,e.layout.minW=t.payload.minW,e.layout.minH=t.payload.minH,e.layout.i=t.payload.i},setWidgetOption:function(e,t){e.options=Object(a.a)(Object(a.a)({},e.options),t.payload)},setWidgetArrayOption:function(e,t){e.options[t.payload.optionName][t.payload.index]=t.payload.value},resetWidgetOptionArray:function(e,t){e.options[t.payload.optionName]=[]},deleteWidgetArrayOption:function(e,t){e.options[t.payload.optionName]=e.options[t.payload.optionName].filter((function(e){return e!==t.payload.value}))},setWidgetProperties:function(e,t){e.properties.title=t.payload.title,e.properties.subtitle=t.payload.subtitle,e.properties.metric=t.payload.metric},setWidgetTitle:function(e,t){e.properties.title=t.payload},setWidgetSubtitle:function(e,t){e.properties.subtitle=t.payload},setWidgetSelf:function(e,t){e.self.type=t.payload.type,e.self.variant=t.payload.variant},setWidgetSelfVariant:function(e,t){e.self.variant=t.payload},setWidgetSelfType:function(e,t){e.self.type=t.payload},setWidgetId:function(e,t){e.widgetId=t.payload},resetWidgetSlice:function(e){c}}}),o=r.actions,s=o.setWidgetData,l=o.setWidgetDataSource,d=o.setWidgetDataValue,u=o.setWidgetArrayDataValue,b=o.resetWidgetDataValueArray,j=o.deleteWidgetArrayDataValue,x=o.setWidgetLayout,g=o.setWidgetOption,h=o.setWidgetArrayOption,O=o.resetWidgetOptionArray,p=o.deleteWidgetArrayOption,m=o.setWidgetProperties,f=o.setWidgetTitle,v=o.setWidgetSubtitle,w=(o.setWidgetSelf,o.setWidgetId),y=o.setWidgetSelfVariant,S=(o.setWidgetSelfType,o.resetWidgetSlice);t.a=r.reducer},22:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return O}));var a=n(30),i=n(196),c=n(93),r=n(94),o=n(125),s=n.n(o),l=n(46),d=n.n(l),u=n(42),b="http://54.169.179.39/api/v1",j="http://54.169.179.39",x="".concat(b,"/box"),g="".concat(b,"/widget");function h(){return s.a.CancelToken.source()}var O=function(){function e(t){Object(c.a)(this,e),void 0===t&&(this.canceltoken=h()),this.canceltoken=t,this.http=s.a.create({baseURL:j,withCredentials:!0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",cancelToken:this.canceltoken.token}),this.http.interceptors.response.use((function(e){return e}),(function(e){var t;return 401===(null===(t=e.response)||void 0===t?void 0:t.status)&&(d.a.remove(u.b,{expires:1,sameSite:"Lax"}),window.location.href="/login",Promise.reject()),Promise.reject(e)}))}return Object(r.a)(e,[{key:"fetchAll",value:function(e){var t=Object(i.a)(e).slice(0);return s.a.all(Object(a.a)(t))}},{key:"getBox",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t?this.http.get("".concat(x,"/").concat(e,"?widgets=1&settings=1")):this.http.get("".concat(x,"/").concat(e))}},{key:"getBoxData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?this.http.get("".concat(x,"/").concat(e,"/data/get?withFeed=").concat(t)):this.http.get("".concat(x,"/").concat(e,"/data/get"))}},{key:"getBoxSettings",value:function(e){return this.http.get("".concat(x,"/").concat(e,"/settings"))}},{key:"getWidgetOnBox",value:function(e,t){return this.http.get("".concat(x,"/").concat(t,"/widgets/").concat(e))}},{key:"getConnectionList",value:function(){return this.http.get("".concat(x,"/connection/list"))}},{key:"getBoxUser",value:function(){return this.http.get("".concat(x))}},{key:"getUserCookie",value:function(){return this.http.get("".concat(j,"/api/set/csrf-cookie"))}},{key:"getCodersProfile",value:function(e){return this.http.get("".concat(b,"/user/coders/").concat(e))}},{key:"getBoxTrash",value:function(){return this.http.get("".concat(x,"/trash"))}},{key:"getBoxAPI",value:function(){return this.http.get("".concat(x,"/boxapi"))}},{key:"getBoxTrashRestore",value:function(e){return this.http.get("".concat(x,"/").concat(e,"/restore"))}},{key:"getBoxDataCodersbox",value:function(e){return this.http.get("".concat(x,"/").concat(e,"/data"))}},{key:"getBoxTrashDelete",value:function(e,t){return this.http.get("".concat(x,"/").concat(e,"/").concat(t,"/remove"))}},{key:"userLogout",value:function(){return this.http.get("".concat(b,"/logout"))}},{key:"saveWidgetBoxSettings",value:function(e){return this.http.post("".concat(g,"/box/addnew"),e)}},{key:"saveWidgetOnBox",value:function(e){return this.http.post("".concat(x,"/widgets"),e)}},{key:"saveNewBox",value:function(e){return this.http.post("".concat(x),e)}},{key:"saveNewUser",value:function(e){return this.http.post("".concat(j,"/signup"),e)}},{key:"saveDataFromDashboard",value:function(e,t){return this.http.post("".concat(x,"/").concat(e,"/data"),t)}},{key:"findUser",value:function(e){return this.http.post("".concat(b,"/login"),e)}},{key:"userAutoLoginCheck",value:function(e){return this.http.get("".concat(b,"/usercheck"))}},{key:"updateBox",value:function(e,t){return this.http.patch("".concat(x),t)}},{key:"updateBoxSettings",value:function(e,t){return this.http.patch("".concat(x,"/settings"),t)}},{key:"updateWidgetBoxSettings",value:function(e){return this.http.patch("".concat(x,"/widgets"),e)}},{key:"updateWidgetBoxLayout",value:function(e){return this.http.patch("".concat(x,"/widgets?update=layout"),e)}},{key:"updateWidgetCount",value:function(e){return this.http.patch("".concat(g,"/user/update"),e)}},{key:"updateUserPassword",value:function(e){return this.http.patch("".concat(b,"/users/password"),e)}},{key:"updateUserTelegramID",value:function(e){return this.http.patch("".concat(b,"/users/telegram"),e)}},{key:"updateAll",value:function(e){var t=Object(i.a)(e).slice(0);return s.a.all(Object(a.a)(t))}},{key:"deleteWidgetOnBox",value:function(e,t){return this.http.delete("".concat(x,"/").concat(t,"/widgets/").concat(e))}},{key:"deleteBox",value:function(e){return this.http.delete("".concat(x,"/").concat(e))}}]),e}()},36:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"g",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"b",(function(){return u}));var a=n(40),i=Object(a.b)({name:"BoxUISlice",initialState:{isBoxEditMode:!1,isBoxEditModePrev:!1,isEditWidget:!1,isAddNewWidget:!1,shouldBoxRefresh:!1,isNewWidgetChoosed:{state:!1,name:""}},reducers:{setBoxUIEditMode:function(e,t){e.isBoxEditModePrev=e.isBoxEditMode,e.isBoxEditMode=t.payload},setBoxUIEditWidget:function(e,t){e.isEditWidget=t.payload},setBoxUIAddNewWidget:function(e,t){e.isAddNewWidget=t.payload},setBoxUIShouldRefresh:function(e,t){e.shouldBoxRefresh=t.payload},setBoxUINewWidgetChoosed:function(e,t){e.isNewWidgetChoosed.name=t.payload.name,e.isNewWidgetChoosed.state=t.payload.state},resetBoxUIEditMode:function(e){e.isBoxEditMode=!1,e.isBoxEditModePrev=!1}}}),c=i.actions,r=c.setBoxUIAddNewWidget,o=c.setBoxUIEditMode,s=c.setBoxUIEditWidget,l=c.setBoxUIShouldRefresh,d=c.setBoxUINewWidgetChoosed,u=c.resetBoxUIEditMode;t.a=i.reducer},42:function(e,t,n){"use strict";n.d(t,"b",(function(){return j})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return O}));var a=n(1),i=n(11),c=n(14),r=n.n(c),o=n(24),s=n(22),l=n(46),d=n.n(l),u=n(0),b=n.n(u),j="codersbox_state",x="codersbox_session",g={isLoggedIn:!1,userName:"",userEmail:"",userId:0,authToken:"",userTelegramID:0,handleLogout:function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),handleLogin:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),handleAutoLogin:function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},h=b.a.createContext(g);function O(e){var t=Object(s.b)(),n=new s.a(t),c=Object(u.useState)((function(){return Boolean(d.a.get(j))})),l=Object(i.a)(c,2),b=l[0],g=l[1],O=Object(u.useState)(""),p=Object(i.a)(O,2),m=p[0],f=p[1],v=Object(u.useState)(""),w=Object(i.a)(v,2),y=w[0],S=w[1],C=Object(u.useState)(0),k=Object(i.a)(C,2),N=k[0],I=k[1],T=Object(u.useState)(0),B=Object(i.a)(T,2),D=B[0],F=B[1],W=function(){var e=Object(o.a)(r.a.mark((function e(t){var a,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getUserCookie();case 3:return e.next=5,n.findUser(t);case 5:a=e.sent,i=a.data.data,g(!0),f(i.userName),S(i.email),I(i.userId),F(i.telegramID),d.a.set(j,!0,{expires:1,sameSite:"Lax"}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),g(!1),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(o.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.userLogout();case 3:t=e.sent,a=t.data.data,d.a.remove(j,{expires:1,sameSite:"Lax"}),d.a.remove(x,{expires:1,sameSite:"Lax"}),g(!1),f(""),S(""),I(0),console.log(a),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(o.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.userAutoLoginCheck(d.a.get(x));case 3:t=e.sent,a=t.data.data,g(!0),f(a.userName),S(a.email),I(a.userId),F(a.telegramID),d.a.set(j,!0,{expires:1,sameSite:"Lax"}),e.next=19;break;case 13:e.prev=13,e.t0=e.catch(0),g(!1),d.a.remove(j,{expires:1,sameSite:"Lax"}),d.a.remove(x,{expires:1,sameSite:"Lax"}),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return Object(u.useEffect)((function(){return!0===Boolean(d.a.get(j))&&P(),!1===Boolean(d.a.get(j))&&void 0!==d.a.get(j)&&L(),function(){return t.cancel()}}),[]),Object(a.jsx)(h.Provider,{value:{isLoggedIn:b,userName:m,userId:N,userEmail:y,userTelegramID:D,handleLogin:W,handleLogout:L,handleAutoLogin:P},children:e.children})}},43:function(e,t,n){"use strict";n.d(t,"k",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"j",(function(){return u})),n.d(t,"d",(function(){return b})),n.d(t,"g",(function(){return j})),n.d(t,"i",(function(){return x})),n.d(t,"b",(function(){return g})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return O}));var a=n(30),i=n(40),c={boxId:0,boxToken:"",boxDeviceToken:"",boxName:"",boxTagName:"",boxDescription:"",boxActiveStatus:!0,boxSettings:{dataField:[],layout:{},activeConnection:"",connection:{mqtt:{broker:"",subscribeTopic:"",publishTopic:"",authentication:""},firebase:{databaseType:"",firebaseToken:""},codersbox:{deviceToken:""}}},boxWidgets:[],createdTime:"",updatedTime:""},r=Object(i.b)({name:"BoxSlice",initialState:c,reducers:{setBoxId:function(e,t){e.boxId=t.payload},setBoxState:function(e,t){e.boxId=t.payload.boxId,e.boxToken=t.payload.boxToken,e.boxDeviceToken=t.payload.boxDeviceToken,e.boxName=t.payload.boxName,e.boxTagName=t.payload.boxTagName,e.boxDescription=t.payload.boxDescription,e.boxActiveStatus=t.payload.boxActiveStatus,e.boxSettings=t.payload.boxSettings,e.boxWidgets=t.payload.boxWidgets},setBoxByFieldName:function(e,t){e[t.payload.field]=t.payload.value},addBoxNewDataField:function(e){e.boxSettings.dataField=[].concat(Object(a.a)(e.boxSettings.dataField),[""])},setBoxNewDataFieldValue:function(e,t){e.boxSettings.dataField[t.payload.index]=t.payload.value.replace(/ /g,"_")},deleteBoxDataField:function(e,t){e.boxSettings.dataField=e.boxSettings.dataField.filter((function(e){return e!==t.payload}))},setBoxActiveConnection:function(e,t){e.boxSettings.activeConnection=t.payload},setBoxConnectionProperties:function(e,t){e.boxSettings.connection[t.payload.selectedConnection][t.payload.connectionPropsName]=t.payload.value},addBoxNewWidget:function(e,t){e.boxWidgets=[].concat(Object(a.a)(e.boxWidgets),[t.payload])},deleteBoxWidgetByIndex:function(e,t){var n=JSON.parse(String(localStorage.getItem("boxLayout-".concat(e.boxToken)))).filter((function(e){return e.i!==t.payload}));localStorage.setItem("boxLayout-".concat(e.boxToken),JSON.stringify(n));var a=e.boxWidgets.findIndex((function(e){return e.layout.i===t.payload}));a>=0&&e.boxWidgets.splice(a,1)},resetBoxSlice:function(e){c}}}),o=r.actions,s=(o.setBoxId,o.setBoxState),l=o.setBoxByFieldName,d=o.addBoxNewDataField,u=o.setBoxNewDataFieldValue,b=o.deleteBoxDataField,j=o.setBoxActiveConnection,x=o.setBoxConnectionProperties,g=o.addBoxNewWidget,h=o.deleteBoxWidgetByIndex,O=o.resetBoxSlice;t.c=r.reducer},531:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n(0),c=n.n(i),r=n(26),o=n.n(r),s=n(25),l=n(628),d=n(626),u=n(13),b=n(9);function j(e){return Object(a.jsx)(d.a,Object(s.a)({elevation:6,variant:"filled"},e))}function x(){var e=Object(b.d)((function(e){return e.app})),t=Object(b.b)(),n=function(e,n){"clickaway"!==n&&t(Object(u.e)({fetchingStatus:!1,message:"",severity:"info",isOpen:!1}))};return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(l.a,{open:e.fetchingMessage.isOpen,autoHideDuration:6e3,onClose:n,children:Object(a.jsx)(j,{onClose:n,severity:e.fetchingMessage.severity,children:e.fetchingMessage.message})}),Object(a.jsx)(l.a,{open:e.fetchingMessage.isOpen,autoHideDuration:6e3,onClose:n,children:Object(a.jsx)(j,{onClose:n,severity:e.fetchingMessage.severity,children:e.fetchingMessage.message})})]})}var g=n(42),h=n(309),O=n(623),p=n(307),m=n.n(p),f=n(308),v=n.n(f),w=n(123),y=n(61),S=n(93),C=n(94),k=n(165),N=n(164),I=n(30),T=n(31),B=n(11),D=n(539),F=n(585),W=n(586),L=n(589),P=n(627),A=n(583),M=n(591),E=n(624),U=n(590),R=n(59),q=n(584),V=n(582),z=Object(V.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),J=n(152),Y=n.p+"static/media/codersbox-white.9dd07551.png",H=n.p+"static/media/codersbox-original.831d2965.png",G=n.p+"static/media/codersbox-gray.64a25638.png",_=n.p+"static/media/originalicon.423e2497.png",Z=n(21),X=n(16),Q=Object(V.a)((function(e){return{toolbar:{backgroundColor:"#1976D2"},appBarMenuButtonHide:{display:"none"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:0,width:"100%",transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},logoImageSmall:Object(Z.a)({height:"30px",marginLeft:e.spacing(2)},e.breakpoints.down("sm"),{margin:"auto"}),logoImage:Object(Z.a)({height:"60px",marginLeft:e.spacing(2)},e.breakpoints.down("sm"),{margin:"auto"}),logoImageMedium:Object(Z.a)({height:"120px",marginLeft:e.spacing(2)},e.breakpoints.down("sm"),{margin:"auto"}),logoImageLarge:Object(Z.a)({height:"240px",marginLeft:e.spacing(2)},e.breakpoints.down("sm"),{margin:"auto"}),grow:{flexGrow:1},sectionDesktop:Object(Z.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(Z.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),drawer:{width:240,flexShrink:0,whiteSpace:"nowrap","& .MuiDrawer-paper":{backgroundColor:"#051e34",color:"white"}},drawerDivider:{backgroundColor:"#255279"},drawerDividerTitle:{marginLeft:e.spacing(2),marginTop:e.spacing(2),color:"#2f79b9"},drawerListContainer:{"& :hover":{backgroundColor:"rgba(220,25,33,1)"}},drawerList:{"& .MuiListItemIcon-root":{color:"white"},"& :hover":{backgroundColor:"rgba(220,25,33,0)"},color:"white"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(Z.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),drawerToolbar:Object(s.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),drawerPaper:{width:240},search:Object(Z.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(X.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(X.c)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%",display:"none"},e.breakpoints.up("md"),{display:"flex",marginLeft:e.spacing(3)}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(Z.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"})}}));function $(e){var t=e.logoType,n=e.logoSize,i=Q(),r=function(){switch(n){case"small":return i.logoImageSmall;case"medium":return i.logoImageMedium;case"large":return i.logoImageLarge;default:return i.logoImage}};return Object(a.jsx)(c.a.Fragment,{children:"white"===t?Object(a.jsx)("img",{src:Y,alt:"Codersbox-Logo",className:r()}):"gray"===t?Object(a.jsx)("img",{src:G,alt:"Codersbox-Logo",className:r()}):"boxicon"===t?Object(a.jsx)("img",{src:_,alt:"Codersbox-Logo",className:r()}):Object(a.jsx)("img",{src:H,alt:"Codersbox-Logo",className:r()})})}function K(e){return Object(a.jsx)(d.a,Object(s.a)({elevation:6,variant:"filled"},e))}function ee(){return Object(a.jsxs)(R.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(a.jsx)(A.a,{color:"inherit",href:"https://material-ui.com/",children:"Coders box"})," ",(new Date).getFullYear(),"."]})}function te(){var e=z(),t=Object(T.g)(),n=Object(i.useContext)(g.a),c=Object(i.useState)({isFetching:!1,isAlert:!1,message:""}),r=Object(B.a)(c,2),o=r[0],s=r[1],d=Object(J.a)({mode:"all",reValidateMode:"all",defaultValues:{email:"",password:"",remember:!1}}),u=d.register,b=d.getValues,j=d.errors,x=function(e,t){"clickaway"!==t&&s({isFetching:!1,isAlert:!1,message:""})},h=function(){var e={email:b().email,password:b().password,remember:b().remember};0===Object.keys(j).length&&(s({isFetching:!0,isAlert:!1,message:""}),n.handleLogin(e).then((function(){return console.log("Redirecting..."),s({isFetching:!1,isAlert:!1,message:""}),void t.push("/dashbox")})).catch((function(e){return function(e){var t;console.log(e),s({isFetching:!1,isAlert:!0,message:"Login error, code: ".concat(null===(t=e.response)||void 0===t?void 0:t.status)})}(e)})))};return Object(i.useEffect)((function(){n.isLoggedIn&&t.push("/dashbox")}),[]),Object(a.jsxs)(q.a,{component:"main",maxWidth:"xs",children:[Object(a.jsx)(F.a,{}),Object(a.jsxs)("div",{className:e.paper,children:[Object(a.jsx)($,{}),Object(a.jsxs)("form",{method:"post",className:e.form,children:[Object(a.jsx)(W.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,disabled:o.isFetching,inputRef:u({required:!0,pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"You must provide a valid email address!"}}),error:j.email,className:e.margin}),j.email&&Object(a.jsx)("span",{className:e.error,children:j.email.message}),Object(a.jsx)(W.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",disabled:o.isFetching,inputRef:u({required:!0,minLength:{value:8,message:"Your password must be greater than 8 characters"}}),error:j.password}),j.password&&Object(a.jsx)("span",{className:e.error,children:j.password.message}),Object(a.jsx)(L.a,{control:Object(a.jsx)(P.a,{color:"primary"}),label:"Remember me",name:"remember",inputRef:u,disabled:o.isFetching}),Object(a.jsx)(D.a,{fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(){return h()},disabled:o.isFetching,children:o.isFetching?Object(a.jsx)(U.a,{color:"primary"}):"Login"}),Object(a.jsxs)(M.a,{container:!0,children:[Object(a.jsx)(M.a,{item:!0,xs:!0,children:Object(a.jsx)(A.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(a.jsx)(M.a,{item:!0,children:Object(a.jsx)(A.a,{href:"/signup",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]}),Object(a.jsx)(E.a,{mt:8,children:Object(a.jsx)(ee,{})}),Object(a.jsx)(l.a,{open:o.isAlert,autoHideDuration:6e3,onClose:x,children:Object(a.jsx)(K,{onClose:x,severity:"error",children:o.message})})]})}n(26),window.React2=n(0),console.log(window.React1===window.React2);var ne=n(14),ae=n.n(ne),ie=n(24),ce=n(22),re=n(592),oe=n(593),se=n(596),le=n(595),de=n(594),ue=n(597),be=n(601),je=n(599),xe=n(600),ge=n(598),he=n(273),Oe=n.n(he),pe=n(272),me=n.n(pe),fe=n(73),ve=n.n(fe),we=n.p+"static/media/cardbox-whiteblue.b86493af.png",ye=n(72),Se=Object(V.a)({root:{},media:{height:140}}),Ce=Object(ce.b)(),ke=new ce.a(Ce);function Ne(e){var t=e.name,n=e.description,r=e.boxToken,o=Se(),s=Object(b.b)(),l=Object(b.d)((function(e){return e.dashboardPage})),d=Object(i.useState)(!1),u=Object(B.a)(d,2),j=u[0],x=u[1],g=Object(i.useState)(!1),h=Object(B.a)(g,2),O=h[0],p=h[1],m=function(){x(!1)};return Object(i.useEffect)((function(){return function(){0===l.boxes.length&&Ce.cancel("request canceled")}}),[]),Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsxs)(re.a,{className:o.root,children:[Object(a.jsxs)(oe.a,{children:[Object(a.jsx)(de.a,{className:o.media,image:we,title:"Codersbox project: ".concat(t)}),Object(a.jsxs)(le.a,{children:[Object(a.jsx)(R.a,{gutterBottom:!0,variant:"h5",component:"h2",children:t}),Object(a.jsx)(R.a,{variant:"body2",color:"textSecondary",component:"p",children:n})]})]}),Object(a.jsxs)(se.a,{children:[Object(a.jsx)(D.a,{startIcon:Object(a.jsx)(me.a,{}),component:y.b,to:"/test",size:"small",color:"primary",children:"Share"}),Object(a.jsx)(D.a,{startIcon:Object(a.jsx)(ve.a,{}),component:y.b,to:"/box/".concat(r),size:"small",color:"primary",children:"View"}),Object(a.jsx)(D.a,{startIcon:Object(a.jsx)(Oe.a,{}),onClick:function(){x(!0)},size:"small",color:"primary",children:"Delete"})]})]}),Object(a.jsxs)(ue.a,{open:j,onClose:m,"aria-labelledby":"alert-delete-box","aria-describedby":"alert-confirmation-for-delete-box",children:[Object(a.jsx)(ge.a,{id:"alert-delete-box",children:"You want to delete this Box?"}),Object(a.jsx)(je.a,{children:Object(a.jsx)(xe.a,{id:"alert-confirmation-for-delete-box",children:"Its ok if you want to delete, you can add other box nicely in the next time!"})}),Object(a.jsxs)(be.a,{children:[Object(a.jsx)(D.a,{disabled:O,onClick:m,color:"primary",children:"Wait a minute"}),Object(a.jsx)(D.a,{disabled:O,onClick:function(){return p(!0),void ke.deleteBox(r).then((function(){s(Object(ye.b)(r))})).then((function(){p(!1),x(!1)})).catch((function(e){console.log(e),p(!1)}))},color:"primary",autoFocus:!0,children:O?Object(a.jsx)(U.a,{color:"primary"}):"Delete"})]})]})]})}var Ie=Object(V.a)((function(e){return{cardLoading:{backgroundColor:e.palette.action.disabledBackground,height:"100%",minHeight:"280px"},cardLoadingContent:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%"},fabQuickAdd:{position:"absolute",bottom:e.spacing(2),right:e.spacing(2)},quickAddform:{flex:1,"& .MuiTextField-root":{width:"100%"}}}}));function Te(){var e=Ie();return Object(a.jsx)(c.a.Fragment,{children:Object(a.jsx)(re.a,{className:e.cardLoading,children:Object(a.jsxs)(le.a,{className:e.cardLoadingContent,children:[Object(a.jsx)(U.a,{color:"primary"}),Object(a.jsx)(R.a,{component:"h4",color:"textSecondary",children:"Box is making... Wait.."})]})})})}var Be=n(45),De=n(602),Fe=n(603),We=n(274),Le=n.n(We),Pe=Object(ce.b)(),Ae=new ce.a(Pe);function Me(){var e=Object(b.b)(),t=Object(b.d)((function(e){return e.dashboardPage})),n=Object(i.useContext)(g.a),c=Ie(),r=Object(Be.a)(),o=Object(De.a)(r.breakpoints.down("sm")),s=function(){e(Object(ye.c)(!1))},l=function(){var a=Object(ie.a)(ae.a.mark((function a(){var i,c,r;return ae.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i={boxToken:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),boxName:t.newBoxCreator.boxName,boxTagName:t.newBoxCreator.boxTagName,boxDescription:t.newBoxCreator.boxDescription,boxUserId:n.userUniqueId},a.prev=1,e(Object(u.f)(!0)),a.next=5,Ae.saveNewBox(i);case 5:return a.next=7,Ae.getBoxUser();case 7:c=a.sent,r=c.data.data,e(Object(ye.e)(r.boxes)),e(Object(u.e)({message:"New Box has been created, Congratulation!",severity:"success",isOpen:!0,fetchingStatus:!1})),a.next=17;break;case 13:a.prev=13,a.t0=a.catch(1),console.error("Add New Box",a.t0),e(Object(u.e)({message:"Failed while making box!",severity:"error",isOpen:!0,fetchingStatus:!1}));case 17:case 18:case"end":return a.stop()}}),a,null,[[1,13]])})));return function(){return a.apply(this,arguments)}}(),d=function(t,n){e(Object(ye.d)({field:t,value:n}))};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Fe.a,{onClick:function(){e(Object(ye.c)(!t.isAddNewBox))},className:c.fabQuickAdd,"aria-label":"add",color:"secondary",children:Object(a.jsx)(Le.a,{})}),Object(a.jsxs)(ue.a,{onClose:s,open:t.isAddNewBox,fullScreen:o,children:[Object(a.jsx)(ge.a,{id:"responsive-dialog-title",children:"Add new: Box"}),Object(a.jsxs)(je.a,{children:[Object(a.jsx)(xe.a,{children:"Add new box here. Just write your project name and its description. We'll work for you to make it simple. Happy box!"}),Object(a.jsx)("form",{className:c.quickAddform,children:Object(a.jsxs)(M.a,{container:!0,spacing:3,children:[Object(a.jsx)(M.a,{item:!0,xs:12,md:12,lg:12,children:Object(a.jsx)(W.a,{onBlur:function(e){return d("boxName",e.target.value)},variant:"outlined",id:"standard-basic",label:"Box Name"})}),Object(a.jsx)(M.a,{item:!0,xs:12,md:12,lg:12,children:Object(a.jsx)(W.a,{onBlur:function(e){return d("boxTagName",e.target.value)},variant:"outlined",id:"standard-basic",label:"Box Tag Name"})}),Object(a.jsx)(M.a,{item:!0,xs:12,md:12,lg:12,children:Object(a.jsx)(W.a,{onBlur:function(e){return d("boxDescription",e.target.value)},variant:"outlined",multiline:!0,rows:4,id:"standard-basic",label:"Box Description"})})]})})]}),Object(a.jsxs)(be.a,{children:[Object(a.jsx)(D.a,{autoFocus:!0,onClick:s,color:"primary",children:"Cancel"}),Object(a.jsx)(D.a,{onClick:function(){l(),s()},color:"primary",autoFocus:!0,children:"Save Box"})]})]})]})}var Ee=n(199),Ue=n.n(Ee),Re=function(e){Object(k.a)(n,e);var t=Object(N.a)(n);function n(){var e;return Object(S.a)(this,n),(e=t.call(this,"1d0a4037d8f645b9ab69895b4d041632.s1.eu.hivemq.cloud",8884)).boxToken="",e.setAuth("akun.unduhan21@gmail.com","b4ndun9em4ng@Hivemq"),e.setSSL(!0),e}return Object(C.a)(n,[{key:"setBoxToken",value:function(e){this.boxToken=e;var t="/codersbox/nodemcu/sub/".concat(this.boxToken),n="/codersbox/nodemcu/pub/".concat(this.boxToken);this.setTopic(t,n)}},{key:"getInstance",value:function(){return this.client}}]),n}(function(){function e(t,n){Object(S.a)(this,e),this.clientID=this.uuidv4(),this.client=new Ue.a.Client(t,n,this.clientID),this.host=t,this.port=n,this.isSSL=!1,this.message={},this.topicPub="",this.topicSubs="",this.connectedState=!1,this.username="",this.password=""}return Object(C.a)(e,[{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}},{key:"handleConnectionLost",value:function(e){0!==e.errorCode&&console.log("onConnectionLost:"+e.errorMessage)}},{key:"handleConnectionConnect",value:function(){try{var e={qos:0,onSuccess:function(e){console.log("subscribed",e)}};this.client.subscribe(this.topicSubs,e),console.log("MQTT Connected. Client ID = ",this.clientID),this.connectedState=!0}catch(t){console.log("connection mqtt state false"),this.connectedState=!1}}},{key:"getSubscribe",value:function(){var e={qos:0,onSuccess:function(e){console.log("subscribed",e)}};this.client.subscribe(this.topicSubs,e)}},{key:"close",value:function(){this.client.disconnect()}},{key:"sendData",value:function(e){var t=new Ue.a.Message(e);t.destinationName=this.topicPub,t.qos=1,this.client.send(t)}},{key:"setSSL",value:function(e){this.isSSL=e}},{key:"setTopic",value:function(e,t){this.topicPub=e,this.topicSubs=t}},{key:"setAuth",value:function(e,t){this.username=e,this.password=t}},{key:"handleMessageArived",value:function(e){console.log("MQTT ",e.payloadString)}},{key:"getMessage",value:function(){return this.message}},{key:"connect",value:function(){this.client.connect({userName:this.username,password:this.password,useSSL:this.isSSL,onSuccess:this.handleConnectionConnect.bind(this)})}},{key:"handle",value:function(e){this.client.onConnectionLost=this.handleConnectionLost.bind(this),this.client.onMessageArrived=void 0===e?this.handleMessageArived.bind(this):function(t){return e(t)}}}]),e}()),qe=n(166);function Ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return qe.a.apps.length?qe.a.app():qe.a.initializeApp(e)}var ze=n(118),Je=new Re;function Ye(){var e=Object(b.b)(),t=Object(b.d)((function(e){return e.box})),n=function(){if(0!==Object.keys(t.boxSettings).length){var n=JSON.parse(t.boxSettings.connection.firebase.firebaseToken);if("rtdb"===t.boxSettings.connection.firebase.databaseType)try{(function(e,t){return Ve(e).database().ref(t)})(n,t.boxToken).on("value",(function(t){var n=Object(s.a)(Object(s.a)({},t.val().data),t.val().control);e(Object(ze.b)(n))})),e(Object(u.d)({message:"Connected to firebase RTDB! ",severity:"success",isOpen:!0}))}catch(a){console.log(a),e(Object(u.d)({message:"Failed to firebase RTDB! ",severity:"error",isOpen:!0}))}else try{(function(e){return Ve(e).firestore()})(n).collection(t.boxToken).orderBy("create_at","desc").limit(1).onSnapshot((function(t){e(Object(u.d)({message:"Connected to firebase RTDB! ",severity:"success",isOpen:!0}))})),e(Object(u.d)({message:"Connected to firebase Firestore! ",severity:"success",isOpen:!0}))}catch(a){console.log(a),e(Object(u.d)({message:"Failed to firebase Firestore! ",severity:"error",isOpen:!0}))}}};return Object(i.useEffect)((function(){switch(t.boxSettings.activeConnection){default:return;case"codersbox":!function(){try{Je.setBoxToken(t.boxToken),Je.connect(),e(Object(u.d)({message:"Connected with Codersbox! ",severity:"success",isOpen:!0})),Je.handle((function(t){e(Object(ze.b)(JSON.parse(t.payloadString)))}))}catch(n){console.log(n),e(Object(u.d)({message:"Failed connect to Codersbox!",severity:"success",isOpen:!0}))}}();break;case"firebase":n();break;case"mqtt":}return function(){Je.connectedState&&Je.close()}}),[t.boxSettings.activeConnection]),null}var He=n(36),Ge=n(604),_e=n(537),Ze=n(538),Xe=n(547),Qe=n(544),$e=n(605),Ke=n(43),et=n(17),tt=n(55),nt=n(5),at=Object(V.a)((function(e){return{fieldFlex:{flex:1,"& .MuiTextField-root":{width:"100%"},"& .MuiSelect-root":{width:"100%"}},widgetRoot:{height:"inherit"},widgetComponentSpacing:{paddingTop:e.spacing(3)},widgetFormEditMargin:{maxWidth:300,margin:e.spacing(3)},widgetFormEditAppBar:{top:"auto",bottom:0},widgetFormEditToolbar:{width:"100%",overflow:"hidden"},widgetCatalogCard:{flexGrow:1,cursor:"pointer"},widgetCatalogCardChoosed:{flexGrow:1,margin:e.spacing(2),padding:e.spacing(1),minWidth:240,backgroundColor:"#fafafa"},dragOn:{opacity:0},dragOff:{opacity:1},choosedWidget:Object(Z.a)({minHeight:250,transition:e.transitions.create("height",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},"transition",e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})),unChoosedWidget:Object(Z.a)({display:"none",transition:e.transitions.create("height",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),minHeight:120},e.breakpoints.up("sm"),{height:e.spacing(9)+1}),chartRoot:{flex:1,minHeight:200,minWidth:200,flexGrow:1},colorPicker:{position:"absolute",zIndex:100,left:5,top:200}}})),it=Object(ce.b)(),ct=new ce.a(it),rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t){return function(n){return function(r){var o=Object.assign({},r),s=at(),l=Object(b.b)(),d=Object(b.d)((function(e){return e.boxPageUI}));Object(b.d)((function(e){return e.widgetUI}));return Object(i.useEffect)((function(){return l(Object(He.f)({state:!1,name:""})),function(){return l(Object(He.f)({state:!1,name:""}))}}),[]),Object(a.jsx)(c.a.Fragment,{children:Object(a.jsx)(M.a,{item:!0,xs:12,md:d.isNewWidgetChoosed.state&&d.isNewWidgetChoosed.name===e?12:4,lg:d.isNewWidgetChoosed.state&&d.isNewWidgetChoosed.name===e?12:4,children:Object(a.jsxs)(re.a,{className:d.isNewWidgetChoosed.state&&d.isNewWidgetChoosed.name===e?s.widgetCatalogCardChoosed:d.isNewWidgetChoosed.state&&d.isNewWidgetChoosed.name!==e?s.unChoosedWidget:s.widgetCatalogCard,children:[d.isNewWidgetChoosed.state&&d.isNewWidgetChoosed.name===e?Object(a.jsx)(Ge.a,{title:"Add new widget",subheader:e}):null,Object(a.jsx)(le.a,{className:Object(nt.a)(Object(Z.a)({},s.choosedWidget,d.isNewWidgetChoosed.state&&d.isNewWidgetChoosed.name===e)),onClick:function(){l(Object(He.f)({state:!0,name:e})),l(Object(et.l)(o.widgetId)),l(Object(et.p)(e))},children:Object(a.jsx)(M.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:1,children:d.isNewWidgetChoosed.state&&d.isNewWidgetChoosed.name===e?Object(a.jsx)(ot,{children:null!==t?Object(a.jsx)(t,{}):null}):Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(M.a,{item:!0,xs:12,children:Object(a.jsx)(n,{})}),Object(a.jsx)(M.a,{item:!0,xs:12,children:e})]})})}),d.isNewWidgetChoosed.state?Object(a.jsx)(st,{type:e}):null]})})})}}}};function ot(e){var t,n,r,o=Object(b.b)(),s=(Object(b.d)((function(e){return e.app})),Object(b.d)((function(e){return e.box}))),l=Object(b.d)((function(e){return e.widget})),d=Object(b.d)((function(e){return e.widgetUI})),u=at(),j=function(e){o(Object(et.k)(e.target.value))};return Object(i.useEffect)((function(){return o(Object(et.m)({w:4,h:6,i:Date.now().toString(),minW:2,minH:6,x:2*s.boxWidgets.length%(s.boxCols||12),y:0})),o(Object(tt.c)(Date.now())),function(){o(Object(et.l)(0)),o(Object(et.f)())}}),[]),Object(a.jsx)(c.a.Fragment,{children:Object(a.jsx)(_e.a,{children:Object(a.jsx)("form",{className:u.fieldFlex,children:Object(a.jsxs)(M.a,{container:!0,spacing:3,children:[Object(a.jsxs)(M.a,{item:!0,xs:12,md:12,lg:12,children:[Object(a.jsx)(W.a,{required:!0,onBlur:function(e){o(Object(et.r)(e.target.value))},variant:"outlined",id:"widget-title",label:"Widget Title","aria-describedby":"widget-title-error"}),Object(a.jsx)(Ze.a,{id:"widget-title-error",children:"This field is required"})]}),Object(a.jsx)(M.a,{item:!0,xs:12,md:12,lg:12,children:Object(a.jsx)(W.a,{required:!0,onBlur:function(e){o(Object(et.q)(e.target.value))},variant:"outlined",id:"widget-subtitle",label:"Widget Subtitle"})}),!d.useOwnDataField&&Object(a.jsxs)(M.a,{item:!0,xs:12,md:12,lg:12,children:[Object(a.jsxs)(_e.a,{variant:"outlined",style:{minWidth:220},children:[Object(a.jsx)(Xe.a,{id:"data-source-selection-input",children:"Data Source"}),Object(a.jsxs)(Qe.a,{labelId:"data-source-selection",id:"data-source-selection",onChange:function(e){o(Object(et.j)(e.target.value))},label:"Data Source",children:[Object(a.jsx)($e.a,{value:null,children:Object(a.jsx)("em",{children:"None"})}),Object(a.jsx)($e.a,{value:"manual",children:Object(a.jsx)("em",{children:"Manual"})}),Object(a.jsx)($e.a,{value:"datafield",children:Object(a.jsx)("em",{children:"Data Field"})})]})]}),Object(a.jsxs)(_e.a,{required:!0,variant:"outlined",style:{minWidth:220,marginLeft:20,display:"datafield"===(null===(t=l.data)||void 0===t?void 0:t.source)?null:"none"},children:[Object(a.jsx)(Xe.a,{id:"widget-data-field-value",children:"Field Name"}),Object(a.jsx)(Qe.a,{labelId:"field-value-type",id:"demo-simple-select-outlined",onChange:j,label:"Field Name",children:0!==(null===(n=s.boxSettings.dataField)||void 0===n?void 0:n.length)?s.boxSettings.dataField.map((function(e,t){return Object(a.jsx)($e.a,{value:e,children:e},t)})):Object(a.jsx)($e.a,{value:0,children:Object(a.jsx)("em",{children:"None"})})})]}),Object(a.jsx)(_e.a,{variant:"outlined",style:{minWidth:220,marginLeft:20,display:"manual"===(null===(r=l.data)||void 0===r?void 0:r.source)?null:"none"},children:Object(a.jsx)(W.a,{onBlur:j,variant:"outlined",id:"widget-data-manual-value",label:"Data Manual Value"})})]}),Object(a.jsx)(M.a,{item:!0,xs:12,md:12,lg:12,children:Object(a.jsx)(R.a,{variant:"subtitle2",gutterBottom:!0,children:"Widget options"})}),e.children]})})})})}function st(e){var t=e.type,n=Object(b.b)(),i=Object(b.d)((function(e){return e.app})),r=Object(b.d)((function(e){return e.box})),o=Object(b.d)((function(e){return e.widget})),s=function(){var e=Object(ie.a)(ae.a.mark((function e(){var a,i,c;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(u.f)(!0)),e.prev=1,a={boxToken:r.boxToken,widgetUniqueId:o.widgetId,widgetProperties:JSON.stringify(o.properties),widgetLayout:JSON.stringify(o.layout),widgetIndexLayout:"".concat(o.layout.i),widgetOptions:JSON.stringify(o.options),widgetData:JSON.stringify(o.data)},e.next=5,ct.saveWidgetOnBox(a,it);case 5:i=e.sent,c={data:o.data,layout:o.layout,options:o.options,properties:o.properties,self:{type:null,variant:t},widgetId:i.data.data.id_box_widget},n(Object(Ke.b)(c)),n(Object(u.e)({message:"Congratulations! Widget has been added to your box!",severity:"success",isOpen:!0,fetchingStatus:!1})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.error("Add Widget",e.t0),n(Object(u.e)({message:"Somethings went wrong while adding widget to your box!",severity:"error",isOpen:!0,fetchingStatus:!1}));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)(c.a.Fragment,{children:Object(a.jsxs)(se.a,{children:[Object(a.jsx)(D.a,{onClick:function(){s()},size:"small",color:"primary",children:i.fetchingStatus?Object(a.jsx)(U.a,{size:35}):"Save"}),Object(a.jsx)(D.a,{onClick:function(){n(Object(He.f)({state:!1,name:""}))},size:"small",color:"primary",children:"Cancel"})]})})}function lt(e,t,n,a,c){var r=Object(b.c)().widgetData,o=Object(i.useState)(c||0),s=Object(B.a)(o,2),l=s[0],d=s[1];return Object(i.useEffect)((function(){if("manual"===(null===t||void 0===t?void 0:t.source)&&d(String(null===t||void 0===t?void 0:t.value)),"datafield"===(null===t||void 0===t?void 0:t.source))if("object"!==typeof t.value)d(isNaN(r.widgetDataContainer[String(null===t||void 0===t?void 0:t.value)])?0:r.widgetDataContainer[String(null===t||void 0===t?void 0:t.value)]);else{var e={};null===t||void 0===t||t.value.map((function(t,n){e[t]=isNaN(r.widgetDataContainer[String(t)])?0:r.widgetDataContainer[String(t)]})),d(e)}}),[r.widgetDataContainer]),Object(i.useEffect)((function(){localStorage.setItem("lastData".concat(e).concat(null===n||void 0===n?void 0:n.label,"-").concat(a),String(l))}),[l]),[l,d]}var dt=n(277),ut=n.n(dt),bt=n(275),jt=n.n(bt),xt=n(276),gt=n.n(xt),ht=n(155),Ot=n.n(ht);var pt=n(278),mt=n.n(pt),ft=n(534),vt=n(108),wt=n.n(vt),yt=n(156),St=n.n(yt);var Ct={Form:rt("line")((function(){var e=Object(b.b)(),t=Object(b.d)((function(e){return e.box})),n=Object(b.d)((function(e){return e.widget})),r=Object(i.useState)(!1),o=Object(B.a)(r,2),s=o[0],l=o[1],d=Object(i.useState)([]),u=Object(B.a)(d,2),j=u[0],x=u[1],g=Object(i.useState)(0),h=Object(B.a)(g,2),O=h[0],p=h[1];return Object(i.useEffect)((function(){0===j.length&&(p(0),e(Object(et.j)("datafield")),e(Object(et.d)()),e(Object(et.e)({optionName:"label"})))}),[j]),Object(i.useEffect)((function(){e(Object(et.j)("datafield")),e(Object(et.d)()),e(Object(et.e)({optionName:"label"})),e(Object(et.n)({isMultiSeries:!1}))}),[]),Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(M.a,{item:!0,xs:12,md:12,lg:12,children:Object(a.jsx)(L.a,{control:Object(a.jsx)(P.a,{checked:s,onChange:function(){return t=s,l((function(e){return!e})),e(Object(tt.e)(!t)),void e(Object(et.n)({isMultiSeries:!t}));var t},name:"checkedB",color:"primary"}),label:"Multi Series"})}),Object(a.jsx)(M.a,{style:{display:s?null:"none"},item:!0,xs:12,md:12,lg:12,children:Object(a.jsx)(D.a,{variant:"contained",style:{display:s?null:"none"},color:"primary",startIcon:Object(a.jsx)(wt.a,{fontSize:"large"}),onClick:function(){var e={idCount:O,dataField:0,fieldName:"Field Series - ".concat(O),labelName:"Series ".concat(O," label")};p((function(e){return e+1})),x((function(t){return[].concat(Object(I.a)(t),[e])}))},"aria-label":"Add new series",children:"Add New Data Series"})}),s?j.map((function(i,r){var o,s;return Object(a.jsx)(c.a.Fragment,{children:Object(a.jsxs)(M.a,{container:!0,spacing:2,direction:"row",style:{marginTop:10},children:[Object(a.jsx)(M.a,{item:!0,xs:5,md:5,lg:5,children:Object(a.jsxs)(_e.a,{variant:"outlined",style:{width:"100%"},children:[Object(a.jsx)(Xe.a,{id:"field-value-type",children:i.fieldName}),Object(a.jsxs)(Qe.a,{labelId:"field-value-type",id:"".concat(n.data.value[r],"-outlined"),value:j[r].dataField||0,onChange:function(t){return n=r,a=t.target.value,x((function(e){var t=e.slice();return t[n].dataField=a,t})),void e(Object(et.g)({index:n,value:a}));var n,a},label:i.fieldName,children:[Object(a.jsx)($e.a,{value:0,children:Object(a.jsx)("em",{children:"None"})}),0!==(null===(o=t.boxSettings.dataField)||void 0===o?void 0:o.length)?t.boxSettings.dataField.map((function(e,t){return Object(a.jsx)($e.a,{value:e,children:e},t)})):Object(a.jsx)($e.a,{value:0,children:Object(a.jsx)("em",{children:"None"})})]})]})}),Object(a.jsx)(M.a,{item:!0,xs:5,md:5,lg:5,children:Object(a.jsx)(W.a,{value:null===(s=n.options)||void 0===s?void 0:s.label[r],onChange:function(t){return n=r,a=t.target.value,x((function(e){var t=e.slice();return t[n].labelName=a,t})),void e(Object(et.h)({optionName:"label",index:n,value:a}));var n,a},variant:"outlined",id:"series-".concat(i.idCount,"-label"),label:i.labelName})}),Object(a.jsx)(M.a,{item:!0,xs:2,md:2,lg:2,children:Object(a.jsx)(ft.a,{onClick:function(){return t=i.idCount,a=n.data.value[r],c=n.options.label[r],x((function(e){return e.filter((function(e){return e.idCount!==t}))})),e(Object(et.b)(a)),void e(Object(et.c)({optionName:"label",value:c}));var t,a,c},children:Object(a.jsx)(St.a,{})})})]})},r)})):null]})}))(mt.a),Component:function(e){var t=e.widgetId,n=(e.widgetProperties,e.widgetData),r=e.widgetOptions,o=lt("ChartLine",n,r,t,[0,0]),s=Object(B.a)(o,1)[0],l=Object(i.useState)({chart:{id:"LineChart",type:"line",animations:{enabled:!0,easing:"linear",dynamicAnimation:{speed:300}},zoom:{enabled:!0,autoScaleYaxis:!0}},stroke:{curve:"straight"},grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},xaxis:{type:"datetime",range:Date.now()-jt()(gt()(Date.now(),1)),tickPlacement:"on",tickAmount:6,labels:{format:"MM yyyy",formatter:function(e,t,n){return ut()(new Date(t),"dd LLL | kk:mm:ss")}}},tooltip:{x:{format:"dd MMM yyyy | hh:mm:ss"}},noData:{text:"No Data Available",align:"center",verticalAlign:"middle",offsetX:0,offsetY:0}}),d=Object(B.a)(l,2),u=d[0],b=(d[1],Object(i.useState)([])),j=Object(B.a)(b,2),x=j[0],g=j[1],h=Object(i.useState)([]),O=Object(B.a)(h,2),p=O[0],m=O[1];return Object(i.useEffect)((function(){"datafield"===n.source&&0===p.length&&Array.isArray(n.value)&&r.isMultiSeries&&r.label.map((function(e,t){var n={name:e,data:[]};g((function(e){return[].concat(Object(I.a)(e),[n])}))}))}),[r]),Object(i.useEffect)((function(){var e=[];Array.isArray(n.value)&&r.isMultiSeries&&r.label.map((function(t,a){var i,c;(null===(i=x[a])||void 0===i?void 0:i.name)===t&&(e[a]={name:t,data:[].concat(Object(I.a)(null===(c=x[a])||void 0===c?void 0:c.data),[{x:(new Date).getTime(),y:s[n.value[a]]}])},g(e))}))}),[s]),Object(i.useEffect)((function(){m(x)}),[x]),Object(i.useEffect)((function(){}),[]),Object(a.jsx)(c.a.Fragment,{children:Object(a.jsx)(Ot.a,{style:{marginTop:-40},options:u,series:p,type:"line",height:350,width:"100%"})})}},kt=n(284),Nt=n.n(kt);var It=n(629),Tt=(n(157),n(88)),Bt={widgetEditStatus:!1,isAddNewWidget:!1,widgetIndex:1,widgetUniqueId:0,widgetTitle:"",widgetSubTitle:"",widgetFieldName:"",widgetMetricUnit:"",widgetMaxValue:100,widgetSlot:0,widgetSequence:0,widgetOptions:{},isChoosed:{state:!1,name:""},WidgetDataContainer:{},selectedWidget:[],fetchingMessage:{message:"",severity:"",isOpen:!1},fetchingStatus:!1,widgetId:0,properties:{},layout:{x:0,y:0,w:0,h:0,minW:2,minH:9,i:0},data:{},options:{},self:{},widgetIndexLayout:0,widgetsLayout:[],useOwnDatafield:!1,widgetType:"",widgetVariant:""},Dt=Object(Tt.a)((function(){return Object(i.useState)(Bt)})),Ft=(Dt.Provider,Dt.useTracked,Dt.useUpdate,Dt.useTrackedState,n(163)),Wt=qt,Lt=Rt,Pt=Ut,At=Et,Mt=Vt;function Et(e){var t=Object(b.b)();return Object(a.jsx)(c.a.Fragment,{children:Object(a.jsx)(M.a,{item:!0,xs:12,md:12,lg:12,children:Object(a.jsx)(It.a,{title:e.helperText,arrow:!0,children:Object(a.jsx)(W.a,{onBlur:function(e){t(Object(et.o)({metric:e.target.value}))},variant:"outlined",id:"widget-metric-unit",label:"Widget Metric Unit"})})})})}function Ut(e){var t,n,i=Object(b.b)(),r=Object(b.d)((function(e){return e.widget}));return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(M.a,{item:!0,xs:12,md:12,lg:12,children:Object(a.jsx)(R.a,{variant:"caption",display:"block",color:"textSecondary",children:e.captionText})}),Object(a.jsxs)(M.a,{item:!0,xs:12,md:12,lg:12,children:[Object(a.jsx)(_e.a,{variant:"outlined",style:e.style||{minWidth:220},children:Object(a.jsx)(It.a,{title:e.helperText,arrow:!0,children:Object(a.jsx)(W.a,{value:(null===(t=r.options)||void 0===t?void 0:t.minValue)||null,type:"number",onChange:function(e){return t=e.target.value,void i(Object(et.n)({minValue:parseInt(t,10)}));var t},variant:"outlined",id:"minimum-value-range",label:"Minimum Value Range",InputLabelProps:{shrink:!0}})})}),Object(a.jsx)(_e.a,{variant:"outlined",style:e.style||{minWidth:220,marginLeft:20},children:Object(a.jsx)(It.a,{title:e.helperText,arrow:!0,children:Object(a.jsx)(W.a,{value:(null===(n=r.options)||void 0===n?void 0:n.maxValue)||null,type:"number",onChange:function(e){return t=e.target.value,void i(Object(et.n)({maxValue:parseInt(t,10)}));var t},variant:"outlined",id:"maximum-value-range",label:"Maximum Value Range",InputLabelProps:{shrink:!0}})})})]})]})}function Rt(e){var t,n,r=Object(b.b)(),o=Object(b.d)((function(e){return e.widget})),s=Object(i.useState)(!1),l=Object(B.a)(s,2),d=l[0],u=l[1],j=at();return Object(i.useEffect)((function(){r(Object(et.n)({color:e.hexColor}))}),[]),Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(M.a,{item:!0,xs:12,md:12,lg:12,children:Object(a.jsx)(It.a,{title:e.helperText,arrow:!0,children:Object(a.jsx)(W.a,{value:(null===(t=o.options)||void 0===t?void 0:t.color)||e.hexColor,onChange:function(e){r(Object(et.n)({color:e.target.value}))},onFocus:function(){return u(!0)},variant:"outlined",id:"background-color",label:"Background Color"})})}),d&&Object(a.jsx)(Ft.a,{color:null===(n=o.options)||void 0===n?void 0:n.color,onChange:function(e){r(Object(et.n)({color:e.hex}))},onChangeComplete:function(){return u(!1)},className:j.colorPicker})]})}function qt(e){var t=Object(b.b)();return Object(a.jsx)(c.a.Fragment,{children:e.isMultiLabel?null:Object(a.jsx)(M.a,{item:!0,xs:12,md:12,lg:12,children:Object(a.jsx)(It.a,{title:e.helperText,arrow:!0,children:Object(a.jsx)(W.a,{onBlur:function(e){t(Object(et.n)({label:e.target.value}))},variant:"outlined",id:"label-name",label:"Label Name"})})})})}function Vt(e){var t=Object(b.b)(),n=Object(i.useState)("horizontal"),r=Object(B.a)(n,2),o=r[0],s=r[1];return Object(a.jsx)(c.a.Fragment,{children:Object(a.jsx)(M.a,{item:!0,xs:12,md:12,lg:12,children:Object(a.jsxs)(_e.a,{required:!0,variant:"outlined",style:{minWidth:220,width:"100%"},children:[Object(a.jsx)(Xe.a,{id:"widget-orientation",children:"Widget Orientation"}),Object(a.jsxs)(Qe.a,{value:o,labelId:"widget-orientation",id:"widget-orientation-selection",onChange:function(e){t(Object(et.n)({orientation:e.target.value})),s(e.target.value)},label:"Widget Orientation",children:[Object(a.jsx)($e.a,{value:"horizontal",children:"Horizontal"}),Object(a.jsx)($e.a,{value:"vertical",children:"Vertical"})]})]})})})}Et.defaultProps={helperText:"This could be C for Celcius. Or F for Fahrenheit, or else. Even only percentage"},Ut.defaultProps={captionText:null,style:null,helperText:"This value will be your range value. If widget use percentage to display the value, data value will be re-mapped to this range"},Rt.defaultProps={labelName:"background",hexColor:"#ffffff",helperText:"If you want to change background color on widget card panel"},qt.defaultProps={isMultiLabel:!1,numOfLabels:1,helperText:"Used for renaming widget that different with field name"},Vt.defaultProps={orientation:"horizontal"};var zt={Form:rt("radial")((function(){var e=Object(b.b)();return Object(i.useEffect)((function(){e(Object(tt.e)(!1))}),[]),Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(Wt,{}),Object(a.jsx)(Lt,{}),Object(a.jsx)(At,{}),Object(a.jsx)(Pt,{captionText:"Radial Widget use this values to be remapped from 0% to 100%. For example, if you have 10 as your minimum value, and 60 as your maximum value, so 0% is equal to 10, and 100% is equal to 60."})]})}))(Nt.a),Component:function(e){var t=e.widgetId,n=e.widgetData,r=e.widgetOptions,o=e.widgetProperties,s=Object(b.c)().widgetData,l=Object(i.useState)({chart:{id:"realtimeRadialChart",height:200,type:"radialBar"},plotOptions:{radialBar:{dataLabels:{value:{show:!0,fontSize:"14px",formatter:function(e){return"".concat(e," ").concat(null===o||void 0===o?void 0:o.metric)}}},hollow:{size:"60%"}}},labels:[null===r||void 0===r?void 0:r.label]}),d=Object(B.a)(l,1)[0],u=Object(i.useState)((function(){return"undefined"!==localStorage.getItem("lastDataChartCircular".concat(null===r||void 0===r?void 0:r.label,"-").concat(t))&&null!==localStorage.getItem("lastDataChartCircular".concat(null===r||void 0===r?void 0:r.label,"-").concat(t))?[Number(localStorage.getItem("lastDataChartCircular".concat(null===r||void 0===r?void 0:r.label,"-").concat(t)))/Number(null===r||void 0===r?void 0:r.maxValue)*100]:[0]})),j=Object(B.a)(u,2),x=j[0],g=j[1];return Object(i.useEffect)((function(){var e=0;"manual"===n.source&&(e=Number(n.value)/Number(r.maxValue)*100,g([Number(e.toFixed(1))])),"datafield"===n.source&&0!==Object.keys(s.widgetDataContainer).length&&(e=s.widgetDataContainer[String(n.value)]/Number(null===r||void 0===r?void 0:r.maxValue)*100,g([Number(e.toFixed(1))])),localStorage.setItem("lastDataChartCircular".concat(null===r||void 0===r?void 0:r.label,"-").concat(t),String(e))}),[s.widgetDataContainer]),Object(a.jsx)(c.a.Fragment,{children:Object(a.jsx)(Ot.a,{options:d,series:[x],type:"radialBar",height:250})})}},Jt=n(159),Yt=n.n(Jt);function Ht(e,t,n,a){var c=Object(b.d)((function(e){return e.box})),r=Object(i.useState)(0),o=Object(B.a)(r,2),s=o[0],l=o[1];return{handleControl:function(n){if("firebase"===c.boxSettings.activeConnection){if("manual"===t.source){var i={};return i["/control/".concat(e).concat(a)]=t.value,void Ve(null).database().ref(c.boxToken).update(i)}if("datafield"===t.source){var r={};return r["/control/".concat(t.value)]=n,void Ve(null).database().ref(c.boxToken).update(r)}}if("codersbox"===c.boxSettings.activeConnection&&"datafield"===t.source){var o={};return o[t.value]=n,void(Je.getInstance().isConnected()?(console.log("Connect status = ",Je.getInstance().isConnected()),console.log("update",o),l(n),Je.sendData(JSON.stringify(o))):(console.log("Cannot publish, not connected = ",Je.getInstance().isConnected()),Je.setBoxToken(c.boxToken),Je.connect()))}},newData:s}}var Gt=Object(V.a)((function(e){return{buttonRoot:{width:100,height:100,backgroundColor:e.palette.success.main,"&:hover":{backgroundColor:e.palette.success.dark}},buttonOn:{backgroundColor:e.palette.success.main},buttonOff:{backgroundColor:e.palette.grey[300]},buttonIcon:{fontSize:50}}}));var _t=n(606);var Zt={Form:rt("button")((function(){var e=Object(b.b)(),t=Object(i.useState)(!0),n=Object(B.a)(t,2),r=n[0],o=n[1];return Object(a.jsx)(c.a.Fragment,{children:Object(a.jsx)(M.a,{item:!0,xs:12,md:12,lg:12,children:Object(a.jsx)(It.a,{title:"If this set as true, button \r will use internal value (true, false) \r as value that will be sent to your data. Default \r for this options is true.\r ",children:Object(a.jsx)(L.a,{control:Object(a.jsx)(_t.a,{checked:r,onChange:function(t){o(t.target.checked),e(Object(et.n)({toggleButton:t.target.checked}))},name:"toggleButton",color:"primary"}),label:"Set as toggle button"})})})})}))(Yt.a),Component:function(e){var t,n=e.widgetId,i=(e.widgetProperties,e.widgetData),r=e.widgetOptions,o=Gt(),s=lt("Button",i,r,n),l=Object(B.a)(s,1)[0],d=Ht("Button",i,0,n);return Object(a.jsx)(c.a.Fragment,{children:Object(a.jsx)(M.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",children:Object(a.jsx)(M.a,{item:!0,children:Object(a.jsx)(ft.a,{onClick:function(){return d.handleControl(!l)},className:Object(nt.a)(o.buttonRoot,(t={},Object(Z.a)(t,o.buttonOn,l),Object(Z.a)(t,o.buttonOff,!l),t)),children:Object(a.jsx)(Yt.a,{className:o.buttonIcon})})})})})}},Xt=n(285),Qt=n.n(Xt),$t=Object(V.a)((function(e){return{ledRoot:{width:80,height:80,backgroundColor:e.palette.success.main,"&:hover":{backgroundColor:e.palette.grey[300],cursor:"auto"}},ledOnGreen:{backgroundColor:e.palette.success.main},ledOff:{backgroundColor:e.palette.grey[300]},ledOnRed:{backgroundColor:e.palette.error.main},ledIcon:{fontSize:40}}}));var Kt={Form:rt("led")(null)(Qt.a),Component:function(e){var t,n,i=e.widgetId,r=(e.widgetProperties,e.widgetData),o=e.widgetOptions,s=$t(),l=lt("Led",r,o,i),d=Object(B.a)(l,1)[0];return Object(a.jsx)(c.a.Fragment,{children:Object(a.jsxs)(M.a,{spacing:2,container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:[Object(a.jsx)(M.a,{item:!0,justifyContent:"center",alignContent:"center",xs:6,md:6,lg:6,children:Object(a.jsx)(ft.a,{className:Object(nt.a)(s.ledRoot,(t={},Object(Z.a)(t,s.ledOnRed,!d),Object(Z.a)(t,s.ledOff,d),t))})}),Object(a.jsx)(M.a,{item:!0,justifyContent:"center",alignContent:"center",xs:6,md:6,lg:6,children:Object(a.jsx)(ft.a,{className:Object(nt.a)(s.ledRoot,(n={},Object(Z.a)(n,s.ledOnGreen,d),Object(Z.a)(n,s.ledOff,!d),n))})})]})})}};var en=n(286),tn=n.n(en);var nn={Form:rt("display")((function(){return Object(a.jsx)(c.a.Fragment,{children:Object(a.jsx)(At,{})})}))(tn.a),Component:function(e){var t=e.widgetId,n=e.widgetProperties,i=lt("Display",e.widgetData,e.widgetOptions,t),r=Object(B.a)(i,1)[0];return Object(a.jsx)(c.a.Fragment,{children:Object(a.jsxs)(M.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(a.jsx)(M.a,{item:!0,children:Object(a.jsx)(R.a,{component:"p",variant:"h2",children:r})}),Object(a.jsx)(M.a,{item:!0,children:Object(a.jsx)(R.a,{color:"textSecondary",children:n.metric})})]})})}},an=n(314),cn=n(630),rn=n(8),on=Object(V.a)((function(e){return{input:{marginLeft:e.spacing(1),flex:1,fontSize:40,textAlign:"center"},inputSetpoint:{color:e.palette.success.dark}}})),sn=Object(rn.a)({root:{color:"#52af77",height:8},thumb:{height:24,width:24,backgroundColor:"#fff",border:"2px solid currentColor",marginTop:-8,marginLeft:-12,"&:focus, &:hover, &$active":{boxShadow:"inherit"}},active:{},valueLabel:{left:"calc(-50% + 4px)"},track:{height:8,borderRadius:4},rail:{height:8,borderRadius:4}})(cn.a);var ln=n(287),dn=n.n(ln);var un={Form:rt("slider")((function(){return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(Pt,{}),Object(a.jsx)(Mt,{}),Object(a.jsx)(Wt,{})]})}))(dn.a),Component:function(e){var t=e.widgetId,n=(e.widgetProperties,e.widgetData),i=e.widgetOptions,c=lt("Slider",n,i,t,0),r=Object(B.a)(c,1)[0],o=Ht("Slider",n,0,t),s=on();return Object(a.jsxs)(M.a,{container:!0,children:[Object(a.jsx)(M.a,{item:!0,xs:12,children:Object(a.jsx)(sn,{max:Number(null===i||void 0===i?void 0:i.maxValue),min:Number(null===i||void 0===i?void 0:i.minValue),orientation:i.orientation||"horizontal",valueLabelDisplay:"auto","aria-label":"codersbox-slider",value:o.newData,onChange:function(e,t){return o.handleControl(t)}})}),Object(a.jsxs)(M.a,{container:!0,item:!0,xs:12,children:[Object(a.jsxs)(M.a,{item:!0,xs:6,children:["Device Value:",Object(a.jsx)(an.a,{className:s.input,inputProps:{"aria-label":"0"},value:r})]}),Object(a.jsxs)(M.a,{item:!0,xs:6,children:["Setpoint:",Object(a.jsx)(an.a,{className:Object(nt.a)(s.input,s.inputSetpoint),inputProps:{"aria-label":"0"},value:o.newData})]})]})]})}},bn=n(127),jn=n.n(bn),xn=(n(520),Object(V.a)((function(e){return{mapContainer:{minHeight:"400px",height:"100%",width:"100%"},sidebar:{backgroundColor:"rgba(35, 55, 75, 0.9)",color:"#ffffff",padding:"6px 12px",fontFamily:"monospace",zIndex:1,position:"absolute",top:100,left:10,margin:"12px",borderRadius:"4px"}}})));jn.a.accessToken="pk.eyJ1IjoiZGltYXNiZGcyMSIsImEiOiJja3JuaGEyODQxdDhjMm9ydmJtcWxnZnJ0In0.UfDYxhu-L9LP9WqiLcI53g";var gn=n(288),hn=n.n(gn),On=n(60);var pn={Form:rt("maps")((function(e){var t,n,r,o,s,l,d,u=Object(b.b)(),j=Object(b.d)((function(e){return e.box})),x=Object(b.d)((function(e){return e.widget})),g=function(e,t){u(Object(et.g)({index:t,value:e}))};return Object(i.useEffect)((function(){u(Object(et.j)("datafield")),u(Object(et.d)()),u(Object(et.e)({optionName:"label"})),u(Object(et.n)({isMultiSeries:!1})),u(Object(tt.e)(!0))}),[]),Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(M.a,{item:!0,xs:12,md:12,lg:12,children:Object(a.jsxs)(_e.a,{variant:"outlined",style:{minWidth:220,width:"100%"},children:[Object(a.jsx)(Xe.a,{id:"data-source-selection-input",children:"Coordinate Data Source"}),Object(a.jsxs)(Qe.a,{labelId:"data-source-selection",id:"data-source-selection",onChange:function(e){u(Object(et.j)(e.target.value))},label:"Coordinate Data Source",children:[Object(a.jsx)($e.a,{value:null,children:Object(a.jsx)("em",{children:"None"})}),Object(a.jsx)($e.a,{value:"manual",children:Object(a.jsx)("em",{children:"Manual"})}),Object(a.jsx)($e.a,{value:"datafield",children:Object(a.jsx)("em",{children:"Data Field"})})]})]})}),Object(a.jsxs)(M.a,{item:!0,xs:6,md:6,lg:6,children:[Object(a.jsxs)(_e.a,{disabled:void 0===(null===(t=x.data)||void 0===t?void 0:t.source),required:!0,variant:"outlined",style:{minWidth:220,display:"datafield"===(null===(n=x.data)||void 0===n?void 0:n.source)?null:"none"},children:[Object(a.jsx)(Xe.a,{id:"widget-data-field-value",children:"Longitude Field Name"}),Object(a.jsx)(Qe.a,{labelId:"field-value-type",id:"demo-simple-select-outlined",onChange:function(e){return g(e.target.value,0)},label:"Longitude Field Name",children:0!==(null===(r=j.boxSettings.dataField)||void 0===r?void 0:r.length)?j.boxSettings.dataField.map((function(e,t){return Object(a.jsx)($e.a,{value:e,children:e},t)})):Object(a.jsx)($e.a,{value:0,children:Object(a.jsx)("em",{children:"None"})})})]}),Object(a.jsx)(_e.a,{variant:"outlined",style:{minWidth:220,display:"manual"===(null===(o=x.data)||void 0===o?void 0:o.source)?null:"none"},children:Object(a.jsx)(W.a,{onBlur:function(e){return g(e.target.value,1)},variant:"outlined",id:"widget-data-manual-value",label:"Longitude Manual Value"})})]}),Object(a.jsxs)(M.a,{item:!0,xs:6,md:6,lg:6,children:[Object(a.jsxs)(_e.a,{required:!0,variant:"outlined",style:{minWidth:220,display:"datafield"===(null===(s=x.data)||void 0===s?void 0:s.source)?null:"none"},children:[Object(a.jsx)(Xe.a,{id:"widget-data-field-value",children:"Latitude Field Name"}),Object(a.jsx)(Qe.a,{labelId:"field-value-type",id:"demo-simple-select-outlined",onChange:function(e){return g(e.target.value,1)},label:"Latitude Field Name",children:0!==(null===(l=j.boxSettings.dataField)||void 0===l?void 0:l.length)?j.boxSettings.dataField.map((function(e,t){return Object(a.jsx)($e.a,{value:e,children:e},t)})):Object(a.jsx)($e.a,{value:0,children:Object(a.jsx)("em",{children:"None"})})})]}),Object(a.jsx)(_e.a,{variant:"outlined",style:{minWidth:220,display:"manual"===(null===(d=x.data)||void 0===d?void 0:d.source)?null:"none"},children:Object(a.jsx)(W.a,{onBlur:function(e){return g(e.target.value,1)},variant:"outlined",id:"widget-data-manual-value",label:"Latitude Manual Value"})})]})]})}))(hn.a),Component:function(e){var t=e.widgetId,n=(e.widgetProperties,e.widgetData),r=e.widgetOptions,o=xn(),s=lt("Maps",n,r,t,[106.8731,-6.1837]),l=Object(B.a)(s,2),d=l[0],u=(l[1],106.8731),b=-6.1837,j=Object(i.useRef)(null),x=Object(i.useState)(12),g=Object(B.a)(x,2),h=g[0],O=g[1];return Object(i.useEffect)((function(){var e=d[n.value[0]],t=d[n.value[1]];(void 0===e&&void 0===t||0===e&&0===t)&&(e=u,t=b),console.log("maps",d);var a=new jn.a.Map({container:j.current,style:"mapbox://styles/mapbox/streets-v11",center:[u,b],zoom:h});a.addControl(new jn.a.NavigationControl,"top-right");(new jn.a.Marker).setLngLat([e,t]).addTo(a);return a.on("move",(function(){a.getCenter().lng.toFixed(4),a.getCenter().lat.toFixed(4),O(a.getZoom().toFixed(2))})),function(){a.remove()}}),[d]),Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsxs)("div",{className:o.sidebar,children:["Longitude: ",d[n.value[0]]," | Latitude: ",d[n.value[1]]," | Zoom: ",h]}),Object(a.jsx)("div",{ref:j,className:o.mapContainer})]})}},mn=n(291),fn=n.n(mn),vn=n(204),wn=n(607),yn=n(290),Sn=n.n(yn),Cn=n(289),kn=n.n(Cn),Nn=Object(V.a)((function(e){return{root:{padding:"4px 4px",display:"flex",alignItems:"center",width:"100%"},input:{marginLeft:e.spacing(1),flex:1,fontSize:40,textAlign:"center"},iconButton:{padding:10},divider:{height:28,margin:4},buttonIcon:{fontSize:50},buttonIconAdd:{color:e.palette.success.main},buttonIconMin:{color:e.palette.error.main},buttonIconDisabled:{color:e.palette.grey[300]}}}));var In={Form:rt("stepper")((function(){return Object(a.jsx)(c.a.Fragment,{children:Object(a.jsx)(Pt,{})})}))(fn.a),Component:function(e){var t,n,r=e.widgetId,o=(e.widgetProperties,e.widgetData),s=e.widgetOptions,l=Nn(),d=lt("Stepper",o,s,r,0),u=Object(B.a)(d,1)[0],b=Ht("Stepper",o,0,r),j=Object(i.useState)([!1,!1]),x=Object(B.a)(j,2),g=x[0],h=x[1],O=function(e){e<s.minValue?h([!0,!1]):e>s.maxValue?h([!1,!0]):(h([!1,!1]),b.handleControl(e))};return Object(a.jsx)(c.a.Fragment,{children:Object(a.jsxs)(M.a,{spacing:1,container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:[Object(a.jsxs)(M.a,{item:!0,children:["Device Value: ",u," of ",s.maxValue]}),Object(a.jsx)(M.a,{item:!0,justifyContent:"center",alignContent:"center",children:Object(a.jsxs)(vn.a,{component:"form",className:l.root,children:[Object(a.jsx)(ft.a,{disabled:g[0],onClick:function(){return O(b.newData-1)},className:l.iconButton,children:Object(a.jsx)(kn.a,{className:Object(nt.a)(l.buttonIcon,(t={},Object(Z.a)(t,l.buttonIconMin,!g[0]),Object(Z.a)(t,l.buttonIconDisabled,g[0]),t))})}),Object(a.jsx)(wn.a,{className:l.divider,orientation:"vertical"}),Object(a.jsx)(an.a,{className:l.input,inputProps:{"aria-label":"0"},value:b.newData}),Object(a.jsx)(wn.a,{className:l.divider,orientation:"vertical"}),Object(a.jsx)(ft.a,{disabled:g[1],onClick:function(){return O(b.newData+1)},className:Object(nt.a)(l.iconButton,l.buttonIconAdd),children:Object(a.jsx)(Sn.a,{className:Object(nt.a)(l.buttonIcon,(n={},Object(Z.a)(n,l.buttonIconAdd,!g[1]),Object(Z.a)(n,l.buttonIconDisabled,g[1]),n))})})]})})]})})}};function Tn(e){return Object(a.jsxs)(M.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:1,children:[Object(a.jsx)(Ct.Form,{widgetId:2}),Object(a.jsx)(Zt.Form,{widgetId:5}),Object(a.jsx)(zt.Form,{widgetId:4}),Object(a.jsx)(nn.Form,{widgetId:1}),Object(a.jsx)(un.Form,{widgetId:7}),Object(a.jsx)(pn.Form,{widgetId:8}),Object(a.jsx)(Kt.Form,{widgetId:9}),Object(a.jsx)(In.Form,{widgetId:10})]})}function Bn(e){var t=Object(Be.a)(),n=Object(b.b)(),i=(Object(b.d)((function(e){return e.app})),Object(b.d)((function(e){return e.boxPageUI}))),r=Object(De.a)(t.breakpoints.down("sm")),o=function(){n(Object(He.c)(!1))};return Object(a.jsx)(c.a.Fragment,{children:Object(a.jsxs)(ue.a,{onClose:o,open:i.isAddNewWidget,fullScreen:r,children:[Object(a.jsx)(ge.a,{id:"responsive-dialog-title",children:"Add new: Widget"}),Object(a.jsxs)(je.a,{children:[Object(a.jsx)(xe.a,{children:"Add new widget here. Just click and choose your data field. We'll make it for you."}),Object(a.jsx)(Tn,{})]}),Object(a.jsx)(be.a,{children:Object(a.jsx)(D.a,{autoFocus:!0,onClick:o,color:"primary",children:"Close"})})]})})}var Dn=n(542);function Fn(e){var t=Object(b.b)(),n=Object(b.d)((function(e){return e.box})),r=Object(b.d)((function(e){return e.boxPageUI})),o=Object(ce.b)(),s=new ce.a(o),l=Object(i.useState)(!0),d=Object(B.a)(l,2),j=d[0],x=d[1],g=Object(i.useState)(!0),h=Object(B.a)(g,2),O=h[0],p=h[1],m=Object(T.f)(window.location.pathname,{path:"/box/:uniqueBoxToken",exact:!1,strict:!1}),f=function(){var e=Object(ie.a)(ae.a.mark((function e(n){var a,i;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==n&&void 0!==n){e.next=2;break}return e.abrupt("return",Promise.reject());case 2:return p(!0),e.prev=3,e.next=6,s.getBox(n);case 6:a=e.sent,i=a.data.data,t(Object(Ke.k)({boxId:i.boxId,boxToken:i.boxToken,boxDeviceToken:i.boxDeviceToken,boxName:i.boxName,boxTagName:i.boxTagName,boxDescription:i.boxDescription,boxActiveStatus:i.boxActiveStatus,boxSettings:i.boxSettings,boxWidgets:i.boxWidgets})),x(!0),p(!1),t(Object(He.g)(!1)),e.next=20;break;case 14:e.prev=14,e.t0=e.catch(3),console.log(e.t0),x(!1),p(!1),t(Object(He.g)(!1));case 20:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){!0===r.shouldBoxRefresh&&!1===r.isBoxEditMode&&!0===r.isBoxEditModePrev&&(t(Object(u.d)({message:"Refreshing your dashbox..",severity:"info",isOpen:!0})),f(n.boxToken),t(Object(He.g)(!1)))}),[r.shouldBoxRefresh,r.isBoxEditMode]),Object(i.useEffect)((function(){return void 0!==m.params.uniqueBoxToken&&(console.log("box fetching.."),f(m.params.uniqueBoxToken)),function(){o.cancel(),t(Object(He.b)()),t(Object(He.g)(!1))}}),[]),Object(a.jsx)(c.a.Fragment,{children:O?Object(a.jsx)(Wn,{}):j?e.children:Object(a.jsx)(M.a,{alignContent:"center",alignItems:"center",justify:"center",container:!0,spacing:3,children:Object(a.jsxs)(M.a,{item:!0,xs:12,md:12,ld:12,children:[Object(a.jsx)(R.a,{variant:"h1",gutterBottom:!0,children:"404"}),Object(a.jsx)(R.a,{variant:"h2",gutterBottom:!0,children:"Box Not Found"})]})})})}function Wn(){return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(Dn.a,{height:80,width:"40%"}),Object(a.jsx)(Dn.a,{height:20,width:"60%"}),Object(a.jsxs)(M.a,{container:!0,direction:"row",spacing:3,children:[Object(a.jsx)(M.a,{item:!0,xs:4,children:Object(a.jsx)(Dn.a,{height:200,width:"100%"})}),Object(a.jsx)(M.a,{item:!0,xs:4,children:Object(a.jsx)(Dn.a,{height:200,width:"100%"})}),Object(a.jsx)(M.a,{item:!0,xs:4,children:Object(a.jsx)(Dn.a,{height:200,width:"100%"})})]}),Object(a.jsxs)(M.a,{container:!0,spacing:3,children:[Object(a.jsx)(M.a,{item:!0,xs:4,children:Object(a.jsx)(Dn.a,{height:200,width:"100%"})}),Object(a.jsx)(M.a,{item:!0,xs:4,children:Object(a.jsx)(Dn.a,{height:200,width:"100%"})}),Object(a.jsx)(M.a,{item:!0,xs:4,children:Object(a.jsx)(Dn.a,{height:200,width:"100%"})})]})]})}n(79);var Ln=n(631),Pn=n(260),An=n.n(Pn),Mn=Object(ce.b)(),En=new ce.a(Mn);function Un(){var e,t,n,r,o,s,l,d,j,x,g,h,O,p,m,f,v=Object(b.b)(),w=Object(b.d)((function(e){return e.app})),y=Object(b.d)((function(e){return e.box})),S=Object(b.d)((function(e){return e.widget})),C=Object(i.useState)(!1),k=Object(B.a)(C,2),N=k[0],I=k[1],T=at(),F=function(e){v(Object(et.k)(e.target.value))},L=function(e){v(Object(et.n)({color:e.hex}))},P=function(e,t){v(Object(et.n)(Object(Z.a)({},t,parseInt(e,10))))},A=function(){var e=Object(ie.a)(ae.a.mark((function e(){var t,n,a,i;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(Object(u.f)(!0)),e.prev=1,a={boxToken:y.boxToken,widgetUniqueId:S.widgetId,widgetProperties:JSON.stringify(S.properties),widgetOptions:JSON.stringify(S.options),widgetData:JSON.stringify(S.data)},e.next=5,En.updateWidgetBoxSettings(a);case 5:if(i=e.sent,"failed"!==(null===(t=i.data)||void 0===t||null===(n=t.header)||void 0===n?void 0:n.status)){e.next=9;break}return v(Object(u.e)({message:"Something wrong while update your widget! no data returned",severity:"error",isOpen:!0,fetchingStatus:!1})),e.abrupt("return");case 9:v(Object(u.e)({message:"Congratulations! your widget has been updated",severity:"success",isOpen:!0,fetchingStatus:!1})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.error(e.t0),v(Object(u.e)({message:"Something wrong while update your widget!",severity:"error",isOpen:!0,fetchingStatus:!1}));case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){return function(){return v(Object(et.f)())}}),[]),Object(a.jsx)(c.a.Fragment,{children:Object(a.jsx)("form",{className:T.fieldFlex,children:Object(a.jsxs)(M.a,{container:!0,spacing:3,children:[Object(a.jsx)(M.a,{item:!0,xs:12,md:12,lg:12,children:Object(a.jsx)(W.a,{disabled:w.fetchingStatus,value:(null===(e=S.properties)||void 0===e?void 0:e.title)||"waiting..",required:!0,onChange:function(e){v(Object(et.r)(e.target.value))},variant:"outlined",id:"widget-title",label:"Widget Title","aria-describedby":"widget-title-error"})}),Object(a.jsx)(M.a,{item:!0,xs:12,md:12,lg:12,children:Object(a.jsx)(W.a,{disabled:w.fetchingStatus,value:(null===(t=S.properties)||void 0===t?void 0:t.subtitle)||"waiting..",required:!0,onChange:function(e){v(Object(et.q)(e.target.value))},variant:"outlined",id:"widget-subtitle",label:"Widget Subtitle"})}),Object(a.jsx)(wn.a,{flexItem:!0,style:{marginTop:20}}),Object(a.jsxs)(M.a,{item:!0,xs:12,md:12,lg:12,children:[Object(a.jsxs)(_e.a,{variant:"outlined",style:{width:"100%",minWidth:220},children:[Object(a.jsx)(Xe.a,{disabled:w.fetchingStatus,id:"data-source-selection-input",children:"Data Source"}),Object(a.jsxs)(Qe.a,{disabled:w.fetchingStatus,labelId:"data-source-selection",id:"data-source-selection",onChange:function(e){v(Object(et.j)(e.target.value))},value:(null===(n=S.data)||void 0===n?void 0:n.source)||"none",label:"Data Source",children:[Object(a.jsx)($e.a,{value:"none",children:Object(a.jsx)("em",{children:"None"})}),Object(a.jsx)($e.a,{value:"manual",children:Object(a.jsx)("em",{children:"Manual"})}),Object(a.jsx)($e.a,{value:"datafield",children:Object(a.jsx)("em",{children:"Data Field"})})]})]}),"object"===typeof(null===(r=S.data)||void 0===r?void 0:r.value)?null===(o=S.data)||void 0===o||null===(s=o.value)||void 0===s?void 0:s.map((function(e,t){var n,i,c;return Object(a.jsxs)(_e.a,{required:!0,variant:"outlined",style:{width:"100%",marginTop:20,minWidth:220,display:"datafield"===(null===(n=S.data)||void 0===n?void 0:n.source)?null:"none"},children:[Object(a.jsx)(Xe.a,{disabled:w.fetchingStatus,id:"widget-data-field-value",children:"Field Name"}),Object(a.jsx)(Qe.a,{disabled:w.fetchingStatus,labelId:"field-value-type",id:"demo-simple-select-outlined",value:(null===(i=S.data)||void 0===i?void 0:i.value[t])||0,onChange:function(e){return function(e,t){v(Object(et.g)({index:t,value:e}))}(e.target.value,t)},label:"Field Name",children:0!==(null===(c=y.boxSettings.dataField)||void 0===c?void 0:c.length)?y.boxSettings.dataField.map((function(e,t){return Object(a.jsx)($e.a,{value:e,children:e},t)})):Object(a.jsx)($e.a,{value:0,children:Object(a.jsx)("em",{children:"None"})})})]})})):Object(a.jsxs)(_e.a,{required:!0,variant:"outlined",style:{width:"100%",marginTop:20,minWidth:220,display:"datafield"===(null===(l=S.data)||void 0===l?void 0:l.source)?null:"none"},children:[Object(a.jsx)(Xe.a,{disabled:w.fetchingStatus,id:"widget-data-field-value",children:"Field Name"}),Object(a.jsx)(Qe.a,{disabled:w.fetchingStatus,labelId:"field-value-type",id:"demo-simple-select-outlined",value:(null===(d=S.data)||void 0===d?void 0:d.value)||0,onChange:F,label:"Field Name",children:0!==(null===(j=y.boxSettings.dataField)||void 0===j?void 0:j.length)?y.boxSettings.dataField.map((function(e,t){return Object(a.jsx)($e.a,{value:e,children:e},t)})):Object(a.jsx)($e.a,{value:0,children:Object(a.jsx)("em",{children:"None"})})})]}),Object(a.jsx)(_e.a,{variant:"outlined",style:{minWidth:220,marginTop:20,width:"100%",display:"manual"===(null===(x=S.data)||void 0===x?void 0:x.source)?null:"none"},children:Object(a.jsx)(W.a,{disabled:w.fetchingStatus,value:(null===(g=S.data)||void 0===g?void 0:g.value)||"waiting...",onChange:F,variant:"outlined",id:"widget-data-manual-value",label:"Data Manual Value"})})]}),Object(a.jsxs)(M.a,{item:!0,xs:12,md:12,lg:12,children:[Object(a.jsx)(W.a,{onFocus:function(){return I(!0)},disabled:w.fetchingStatus,value:(null===(h=S.options)||void 0===h?void 0:h.color)||"waiting..",required:!0,onChange:L,variant:"outlined",id:"background-color",label:"Background Color","aria-describedby":"widget-color-error"}),N&&Object(a.jsx)(Ft.a,{color:null===(O=S.options)||void 0===O?void 0:O.color,onChange:L,onChangeComplete:function(){return I(!1)},className:T.colorPicker})]}),Object(a.jsxs)(M.a,{item:!0,xs:12,md:12,lg:12,children:[Object(a.jsx)(_e.a,{variant:"outlined",style:{minWidth:220,width:"100%"},children:Object(a.jsx)(It.a,{title:"Minimum limit widget value",arrow:!0,children:Object(a.jsx)(W.a,{value:0===(null===(p=S.options)||void 0===p?void 0:p.minValue)?"0":(null===(m=S.options)||void 0===m?void 0:m.minValue)||null,type:"number",onChange:function(e){return P(e.target.value,"minValue")},variant:"outlined",id:"minimum-value-range",label:"Minimum Value Range",InputLabelProps:{shrink:!0}})})}),Object(a.jsx)(_e.a,{variant:"outlined",style:{minWidth:220,width:"100%",marginTop:20},children:Object(a.jsx)(It.a,{title:"Maximum limit widget value",arrow:!0,children:Object(a.jsx)(W.a,{value:(null===(f=S.options)||void 0===f?void 0:f.maxValue)||null,type:"number",onChange:function(e){return P(e.target.value,"maxValue")},variant:"outlined",id:"maximum-value-range",label:"Maximum Value Range",InputLabelProps:{shrink:!0}})})})]}),Object(a.jsxs)(M.a,{item:!0,xs:12,md:12,lg:12,children:[Object(a.jsx)("input",{type:"hidden",value:y.shouldBoxRefresh}),Object(a.jsx)(D.a,{variant:"contained",color:"primary",size:"large",style:{width:"100%"},startIcon:w.fetchingStatus?null:Object(a.jsx)(An.a,{}),disabled:w.fetchingStatus,onClick:A,children:w.fetchingStatus?Object(a.jsx)(U.a,{color:"primary"}):"Save"})]})]})})})}function Rn(){var e,t=Object(b.b)(),n=Object(b.d)((function(e){return e.boxPageUI})),i=Object(b.d)((function(e){return e.widget})),r=at();return Object(a.jsx)(c.a.Fragment,{children:Object(a.jsx)(Ln.a,{anchor:"right",open:n.isEditWidget,onClose:function(){t(Object(He.e)(!1))},children:Object(a.jsx)(M.a,{className:r.widgetFormEditMargin,container:!0,direction:"column",children:Object(a.jsxs)(M.a,{item:!0,xs:12,children:[Object(a.jsxs)(M.a,{item:!0,xs:12,md:8,lg:9,children:[Object(a.jsxs)(M.a,{container:!0,spacing:3,justify:"space-between",alignItems:"center",direction:"row",children:[Object(a.jsxs)(M.a,{item:!0,xs:8,md:8,lg:10,children:[Object(a.jsx)(R.a,{variant:"h4",component:"h2",children:"Edit Widget"}),Object(a.jsx)(R.a,{variant:"subtitle1",component:"h4",color:"textSecondary",children:(null===(e=i.properties)||void 0===e?void 0:e.title)||"waiting..."})]}),Object(a.jsx)(M.a,{item:!0,xs:4,md:4,lg:2})]}),Object(a.jsx)("br",{})]}),Object(a.jsx)(M.a,{item:!0,xs:12,children:Object(a.jsx)(Un,{})})]})})})})}var qn=n(292),Vn=n.n(qn),zn=n(115);function Jn(){var e=Object(b.b)(),t=Object(b.d)((function(e){return e.box})),n=Object(b.d)((function(e){return e.app})),i=Object(b.d)((function(e){return e.boxPageUI})),r=Object(T.i)().url,o=Object(Be.a)();return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsxs)(M.a,{item:!0,xs:12,md:6,lg:6,children:[Object(a.jsx)("input",{type:"hidden",value:t.boxToken,name:"boxToken",id:"boxToken"}),Object(a.jsx)(R.a,{variant:"h4",component:"h2",children:""===t.boxName?Object(a.jsx)(zn.a,{width:400,height:40}):t.boxName}),Object(a.jsx)(R.a,{variant:"subtitle1",component:"h4",color:"textSecondary",children:""===t.boxTagName?Object(a.jsx)(zn.a,{width:300,height:20}):t.boxTagName})]}),Object(a.jsx)(M.a,{item:!0,xs:12,md:6,lg:6,children:Object(a.jsxs)(M.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"center",spacing:1,children:[Object(a.jsx)(M.a,{item:!0,children:Object(a.jsx)(D.a,{variant:"contained",style:{display:i.isBoxEditMode?null:"none"},color:"primary",startIcon:Object(a.jsx)(wt.a,{fontSize:"large"}),onClick:function(){e(Object(He.c)(!0))},"aria-label":"Add new widget",children:"Add Widget"})}),Object(a.jsx)(M.a,{item:!0,children:Object(a.jsx)(D.a,{variant:"contained",style:{backgroundColor:o.palette.success.main,color:"white",display:i.isBoxEditMode?null:"none"},startIcon:Object(a.jsx)(Vn.a,{fontSize:"large"}),component:y.b,to:"".concat(r,"/settings"),"aria-label":"Box settings",children:"Settings"})}),Object(a.jsx)(M.a,{item:!0,children:Object(a.jsx)(U.a,{thickness:6,size:30,style:{display:n.fetchingStatus?null:"none"}})}),Object(a.jsx)(M.a,{item:!0,children:Object(a.jsx)(It.a,{title:i.isBoxEditMode?"Goes to Online mode":"Goes to Edit mode. Arrange your widget here",children:Object(a.jsx)(L.a,{control:Object(a.jsx)(_t.a,{checked:i.isBoxEditMode,onChange:function(){return e(Object(He.d)(!i.isBoxEditMode))},name:"checkedB",color:"primary"})})})})]})})]})}var Yn=n.p+"static/media/no-widget.394702f1.svg",Hn=Object(V.a)((function(){return{noImage:{backgroundImage:"url(".concat(Yn,")"),backgroundRepeat:"no-repeat",backgroundPosition:"50% 30%",backgroundSize:"cover",position:"relative",height:"100%",top:20,minHeight:550}}}));function Gn(){var e=Hn();return Object(a.jsx)(E.a,{className:e.noImage})}var _n=n(201),Zn=n(310),Xn=n(313),Qn=n(160),$n=n.n(Qn);var Kn=Object(ce.b)(),ea=new ce.a(Kn);function ta(e){var t=e.idWidget,n=e.indexLayoutWidget,r=Object(b.b)(),o=Object(b.d)((function(e){return e.boxPageUI})),s=Object(b.d)((function(e){return e.box})),l=Object(i.useState)(null),d=Object(B.a)(l,2),j=d[0],x=d[1],g=Object(i.useState)(!1),h=Object(B.a)(g,2),O=h[0],p=h[1],m=Boolean(j),f=(function(e){var t=Object(On.b)();Object(i.useCallback)((function(n){t((function(t){var a=JSON.parse(localStorage.getItem("boxLayout-".concat(e))).filter((function(e){return e.i!==n}));localStorage.setItem("boxLayout-".concat(e),JSON.stringify(a));var i=t.boxWidgets.findIndex((function(e){return e.layout.i===n}));i>=0&&t.boxWidgets.splice(i,1)}))}),[t])}(s.boxToken),function(){p(!1)}),v=function(){var e=Object(ie.a)(ae.a.mark((function e(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(Object(Ke.e)(n)),r(Object(u.f)(!0)),e.next=5,ea.deleteWidgetOnBox(t,s.boxToken);case 5:r(Object(u.e)({message:"Widget succesfully deleted!",severity:"warning",isOpen:!0,fetchingStatus:!1})),p(!1),e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(0),console.error("Edit Widget",e.t0),r(Object(u.e)({message:"Something wrong while delete your widget!",severity:"error",isOpen:!0,fetchingStatus:!1})),e.abrupt("return");case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),w=Object(i.useCallback)(Object(ie.a)(ae.a.mark((function e(){var n,a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(Object(u.f)(!0)),e.prev=1,e.next=4,ea.getWidgetOnBox(t,s.boxToken);case 4:n=e.sent,a=n.data,r(Object(et.l)(t)),r(Object(et.o)(a.properties)),r(Object(et.i)(a.data)),r(Object(et.n)(a.options)),r(Object(u.e)({message:"Widget Edit loaded!",severity:"success",isOpen:!0,fetchingStatus:!1})),e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(1),console.error("Edit Widget",e.t0),r(Object(u.e)({message:"Something wrong while take your widget!",severity:"error",isOpen:!0,fetchingStatus:!1})),e.abrupt("return");case 18:case"end":return e.stop()}}),e,null,[[1,13]])}))),[t]);return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(ft.a,{style:{display:o.isBoxEditMode?null:"none"},onClick:function(e){x(e.currentTarget)},"aria-label":"settings",children:Object(a.jsx)($n.a,{})}),Object(a.jsxs)(Zn.a,{id:"fade-menu",anchorEl:j,keepMounted:!0,open:m,onClose:function(){x(null)},TransitionComponent:Xn.a,children:[Object(a.jsx)($e.a,{onClick:function(){r(Object(He.e)(!0)),w()},children:"Edit"}),Object(a.jsx)($e.a,{onClick:function(){p(!0)},children:"Delete"})]}),Object(a.jsxs)(ue.a,{open:O,onClose:f,"aria-labelledby":"alert-delete-widget","aria-describedby":"alert-confirmation-for-delete-widget",children:[Object(a.jsx)(ge.a,{id:"alert-delete-widget",children:"You want to delete this widget?"}),Object(a.jsx)(je.a,{children:Object(a.jsx)(xe.a,{id:"alert-confirmation-for-delete-widget",children:"Its ok if you want to delete, you can add other widget nicely in the next time!"})}),Object(a.jsxs)(be.a,{children:[Object(a.jsx)(D.a,{onClick:f,color:"primary",children:"Wait a minute"}),Object(a.jsx)(D.a,{onClick:v,color:"primary",autoFocus:!0,children:"Delete"})]})]})]})}function na(e){var t=at(),n=e.key,r=Object(i.useRef)(null);return Object(a.jsx)(c.a.Fragment,{children:Object(a.jsxs)(re.a,{ref:r,style:{height:"100%",backgroundColor:e.widgetOptions.color},className:Object(nt.a)(t.widgetRoot),children:[Object(a.jsx)(Ge.a,{title:e.widgetTitle,subheader:e.widgetSubtitle,action:Object(a.jsx)(ta,{indexLayoutWidget:e.indexWidget,idWidget:e.idWidget,title:e.widgetTitle,subtitle:e.widgetSubtitle})}),Object(a.jsx)(le.a,{children:Object(a.jsx)(M.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:Object(a.jsx)(M.a,{item:!0,xs:12,md:12,lg:12,children:e.children})})})]},n)})}na.defaultProps={widgetOptions:{}};var aa=Object(_n.WidthProvider)(_n.Responsive);function ia(e){var t=Object(b.d)((function(e){return e.app})),n=Object(b.d)((function(e){return e.boxPageUI})),r=Object(i.useRef)(),o=Object(b.d)((function(e){return e.box})),l=Object(i.useState)(),d=Object(B.a)(l,2),u=d[0],j=d[1],x=Object(i.useState)({currentBreakpoint:"lg",compactType:"vertical",mounted:!1}),g=Object(B.a)(x,2),h=g[0],O=g[1];return Object(i.useEffect)((function(){return r.current=setTimeout((function(){return window.dispatchEvent(new Event("resize"))}),180),function(){clearTimeout(r.current)}}),[t.isDrawerOpen,e.initialLayout]),Object(i.useEffect)((function(){return O((function(e){return Object(s.a)(Object(s.a)({},e),{},{mounted:!0})})),function(){clearTimeout(r.current)}}),[]),Object(a.jsx)(c.a.Fragment,{children:Object(a.jsx)(aa,Object(s.a)(Object(s.a)({},e),{},{className:"layout",layouts:u,isDraggable:n.isBoxEditMode,isResizable:n.isBoxEditMode,breakpoints:{lg:1440,md:1024,sm:768,xs:425,xxs:320},cols:{lg:12,md:10,sm:4,xs:2,xxs:1},onBreakpointChange:function(e,t){O((function(t){return Object(s.a)(Object(s.a)({},t),{},{currentBreakpoint:e})}))},onLayoutChange:function(e,t){localStorage.setItem("boxLayout-".concat(o.boxToken),JSON.stringify(e)),localStorage.setItem("boxLayout-".concat(o.boxToken,"-allLayouts"),JSON.stringify(t)),j(t),console.info("layout change",t)},measureBeforeMount:!1,useCSSTransforms:h.mounted,compactType:h.compactType,preventCollision:!h.compactType,children:e.initialLayout.map((function(e,t){var n,i,c,r,s,l,d,u,b,j,x,g,h,O,p;return Object(a.jsx)("div",{"data-grid":e,children:Object(a.jsx)(na,{idWidget:null===(n=o.boxWidgets[t])||void 0===n?void 0:n.widgetId,indexWidget:e.i,widgetTitle:null===(i=o.boxWidgets[t])||void 0===i?void 0:i.properties.title,widgetSubtitle:null===(c=o.boxWidgets[t])||void 0===c?void 0:c.properties.subtitle,widgetOptions:null===(r=o.boxWidgets[t])||void 0===r?void 0:r.options,children:(x=null===(s=o.boxWidgets[t])||void 0===s?void 0:s.widgetId,g=null===(l=o.boxWidgets[t])||void 0===l||null===(d=l.self)||void 0===d?void 0:d.variant,h=null===(u=o.boxWidgets[t])||void 0===u?void 0:u.properties,O=null===(b=o.boxWidgets[t])||void 0===b?void 0:b.data,p=null===(j=o.boxWidgets[t])||void 0===j?void 0:j.options,"radial"===g?Object(a.jsx)(zt.Component,{widgetId:x,widgetData:O,widgetProperties:h,widgetOptions:p}):"button"===g?Object(a.jsx)(Zt.Component,{widgetId:x,widgetData:O,widgetProperties:h,widgetOptions:p}):"display"===g?Object(a.jsx)(nn.Component,{widgetId:x,widgetData:O,widgetProperties:h,widgetOptions:p}):"line"===g?Object(a.jsx)(Ct.Component,{widgetId:x,widgetData:O,widgetProperties:h,widgetOptions:p}):"slider"===g?Object(a.jsx)(un.Component,{widgetId:x,widgetData:O,widgetProperties:h,widgetOptions:p}):"map"===g?Object(a.jsx)(pn.Component,{widgetId:x,widgetData:O,widgetProperties:h,widgetOptions:p}):"led"===g?Object(a.jsx)(Kt.Component,{widgetId:x,widgetData:O,widgetProperties:h,widgetOptions:p}):"stepper"===g?Object(a.jsx)(In.Component,{widgetId:x,widgetData:O,widgetProperties:h,widgetOptions:p}):void 0)})},e.i)}))}))})}function ca(){var e=Object(b.b)(),t=Object(b.d)((function(e){return e.box})),n=Object(b.d)((function(e){return e.boxPageUI})),r=Object(b.d)((function(e){return e.widgetUI})),o=Object(b.d)((function(e){return e.widget})),s=Object(ce.b)(),l=new ce.a(s),d=function(){var n=Object(ie.a)(ae.a.mark((function n(){var a;return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(""!==t.boxToken||null!==localStorage.getItem("boxLayout-".concat(t.boxToken))){n.next=2;break}return n.abrupt("return",Promise.reject());case 2:return n.prev=2,a={boxToken:t.boxToken,widgetUniqueId:o.widgetId,widgetLayout:localStorage.getItem("boxLayout-".concat(t.boxToken))||JSON.stringify({}),widgetBoxLayout:localStorage.getItem("boxLayout-".concat(t.boxToken,"-allLayouts"))||JSON.stringify({})},e(Object(u.f)(!0)),n.next=7,l.updateWidgetBoxLayout(a,s);case 7:"success"===n.sent.data.header.status&&(e(Object(u.e)({message:"layout has been saved",severity:"success",isOpen:!0,fetchingStatus:!1})),e(Object(He.g)(!0))),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(2),e(Object(u.e)({message:"Something went wrong, please try again!",severity:"error",isOpen:!0,fetchingStatus:!1})),console.error(n.t0);case 15:case"end":return n.stop()}}),n,null,[[2,11]])})));return function(){return n.apply(this,arguments)}}();return Object(i.useEffect)((function(){0!==r.widgetsLayout.length&&e(Object(tt.b)()),t.boxWidgets.map((function(t){e(Object(tt.d)(t.layout))}))}),[t.boxWidgets]),Object(i.useEffect)((function(){!1===n.isBoxEditMode&&!0===n.isBoxEditModePrev&&d()}),[n.isBoxEditMode]),Object(i.useEffect)((function(){return function(){s.cancel("Widget Container")}}),[]),Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(M.a,{container:!0,spacing:1,children:Object(a.jsx)(Jn,{})}),0!==t.boxWidgets.length&&0!==r.widgetsLayout.length?Object(a.jsx)(ia,{initialLayout:r.widgetsLayout}):Object(a.jsx)(Gn,{})]})}ia.defaultProps={className:"layout",rowHeight:30,onLayoutChange:function(){},cols:{lg:12,md:6,sm:4,xs:3,xxs:1}};var ra=n(311),oa=n(610),sa=n(625),la=n(611),da=Object(V.a)((function(e){return{quickAddform:{flex:1,"& .MuiTextField-root":{width:"100%"}},formConnection:{width:"100%",flex:1,"& .MuiTextField-root":{width:"100%"}},formConnectionField:{paddingLeft:e.spacing(3),marginTop:20,marginBottom:20},formConnectionTextField:{marginTop:e.spacing(2)}}}));function ua(e){var t=da(),n=Object(b.b)(),i=Object(b.d)((function(e){return e.box})),c=Object(b.d)((function(e){return e.app})),r=function(e,t){n(Object(Ke.h)({field:t,value:e}))};return Object(a.jsxs)(M.a,{container:!0,spacing:4,children:[Object(a.jsx)(M.a,{item:!0,xs:12,md:12,lg:8,children:Object(a.jsx)("form",{className:t.quickAddform,children:Object(a.jsxs)(M.a,{container:!0,spacing:3,children:[Object(a.jsx)(M.a,{item:!0,xs:12,md:12,lg:12,children:Object(a.jsx)(W.a,{disabled:c.fetchingStatus,variant:"outlined",id:"box-title",label:"Box Name",value:i.boxName,onChange:function(e){return r(e.target.value,"boxName")}})}),Object(a.jsx)(M.a,{item:!0,xs:12,md:12,lg:12,children:Object(a.jsx)(W.a,{disabled:c.fetchingStatus,variant:"outlined",id:"box-sub-title",label:"Box Tag Name",value:i.boxTagName,onChange:function(e){return r(e.target.value,"boxTagName")}})}),Object(a.jsx)(M.a,{item:!0,xs:12,md:12,lg:12,children:Object(a.jsx)(W.a,{disabled:c.fetchingStatus,variant:"outlined",multiline:!0,rows:6,id:"box-description",label:"Box Description",value:i.boxDescription,onChange:function(e){return r(e.target.value,"boxDescription")}})})]})})}),Object(a.jsx)(wn.a,{orientation:"vertical",flexItem:!0}),Object(a.jsxs)(M.a,{item:!0,xs:12,md:12,lg:3,children:[Object(a.jsx)(R.a,{variant:"h6",component:"h6",children:"Box Name"}),Object(a.jsx)(R.a,{variant:"body1",component:"h4",color:"textSecondary",children:"Write your box name there. Make some words that easy to be remembered"}),Object(a.jsx)("br",{}),Object(a.jsx)(R.a,{variant:"h6",component:"h6",children:"Box Description"}),Object(a.jsx)(R.a,{variant:"body1",component:"h4",color:"textSecondary",children:"Describe your box here. Let them know that you could make some cool stuff with codersbox!"})]})]})}var ba=n(608);function ja(){var e=da(),t=Object(b.b)(),n=Object(b.d)((function(e){return e.app})),c=Object(b.d)((function(e){return e.box})),r=Object(i.useState)(!1),o=Object(B.a)(r,2),s=o[0],l=o[1],d=Object(i.useState)(void 0),u=Object(B.a)(d,2),j=u[0],x=u[1];return Object(a.jsxs)(M.a,{container:!0,spacing:4,children:[Object(a.jsx)(xa,{onOpenChange:function(e){return l(e)},fieldName:j,isOpen:s}),Object(a.jsxs)(M.a,{item:!0,xs:12,md:12,lg:3,children:[Object(a.jsx)(R.a,{variant:"h6",component:"h6",children:"Data Field"}),Object(a.jsxs)(R.a,{variant:"body1",component:"h4",color:"textSecondary",children:["Tell us what data field's name that you wanna show on our widget. Like ",Object(a.jsx)("i",{children:"'temperature', 'humidity'"})," or else. Or, add new one if it necessary. Dont use whitespace instead. Codersbox will trim all white space. ",Object(a.jsx)("br",{})," e.g: ",Object(a.jsx)("br",{})," ",Object(a.jsx)("b",{children:Object(a.jsx)("i",{children:"ambient temp = ambienttemp"})})]}),Object(a.jsx)("br",{}),Object(a.jsx)(wn.a,{orientation:"horizontal"}),Object(a.jsxs)(D.a,{onClick:function(e){0!==Object.keys(c.boxSettings).length&&c.boxSettings.dataField.length<=10&&t(Object(Ke.a)())},children:[Object(a.jsx)(wt.a,{}),"\xa0Add New Field"]})]}),Object(a.jsx)(wn.a,{orientation:"vertical",flexItem:!0}),Object(a.jsx)(M.a,{item:!0,xs:12,md:12,lg:8,children:Object(a.jsx)("form",{className:e.quickAddform,children:Object(a.jsx)(M.a,{container:!0,spacing:3,children:0!==Object.keys(c.boxSettings).length?0!==c.boxSettings.dataField.length?c.boxSettings.dataField.map((function(e,i){return Object(a.jsx)(M.a,{item:!0,xs:12,md:12,lg:12,children:Object(a.jsx)(W.a,{disabled:n.fetchingStatus,variant:"outlined",id:"data-field-".concat(e),label:"Data Field ".concat(i+1),value:e,InputProps:{endAdornment:Object(a.jsx)(ba.a,{position:"end",children:Object(a.jsx)(ft.a,{onClick:function(){x(e),l(!0)},children:Object(a.jsx)(St.a,{})})})},onChange:function(e){return n=e.target.value,a=i,void(0!==Object.keys(c.boxSettings).length&&t(Object(Ke.j)({index:a,value:n})));var n,a}})},i)})):Object(a.jsx)(M.a,{alignContent:"center",item:!0,xs:12,md:12,lg:12,children:Object(a.jsx)(R.a,{variant:"h6",component:"h6",color:"textSecondary",children:"No Data Field Available here"})}):Object(a.jsx)(M.a,{alignContent:"center",item:!0,xs:12,md:12,lg:12,children:Object(a.jsx)(R.a,{variant:"h6",component:"h6",color:"textSecondary",children:"Failed"})})})})})]})}function xa(e){var t=Object(i.useState)(!1),n=Object(B.a)(t,2),c=n[0],r=n[1],o=Object(b.b)(),s=Object(b.d)((function(e){return e.box})),l=function(){r(!1),e.onOpenChange(!1)};return Object(i.useEffect)((function(){e.isOpen&&r(!0)}),[e.isOpen]),Object(a.jsxs)(ue.a,{open:c,onClose:l,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(a.jsx)(ge.a,{id:"alert-dialog-title",children:'Delete for "'.concat(e.fieldName,'" field?')}),Object(a.jsx)(je.a,{children:Object(a.jsxs)(xe.a,{id:"alert-dialog-description",children:["By Deleting this field, all datas belongs to this ",e.fieldName," field, won't be shown anymore on any widgets."]})}),Object(a.jsxs)(be.a,{children:[Object(a.jsx)(D.a,{onClick:function(){var t;t=e.fieldName,0!==Object.keys(s.boxSettings).length&&s.boxSettings.dataField.length>=0&&o(Object(Ke.d)(t)),l()},color:"primary",children:"Yes, sure"}),Object(a.jsx)(D.a,{onClick:l,color:"primary",autoFocus:!0,children:"Wait a minute"})]})]})}xa.defaultProps={onOpenChange:function(e){},fieldName:"",isOpen:!1};var ga=n(161),ha=n.n(ga),Oa=n(293),pa=n.n(Oa),ma=n(294),fa=n.n(ma),va=n(609);function wa(){var e=da(),t=Object(b.b)(),n=Object(b.d)((function(e){return e.box})),i=Object(b.d)((function(e){return e.boxSettings})),r=function(e,n,a){t(Object(Ke.i)({selectedConnection:a,connectionPropsName:n,value:e}))};return Object(a.jsx)(c.a.Fragment,{children:Object(a.jsxs)(M.a,{container:!0,spacing:4,children:[Object(a.jsxs)(M.a,{item:!0,xs:12,md:12,lg:3,children:[Object(a.jsx)(R.a,{variant:"h6",component:"h6",children:"Box Connection"}),Object(a.jsx)(R.a,{variant:"body1",component:"h4",color:"textSecondary",children:"Set your connection here. Codersbox just gave you a freedom of connection. If you wish to use Firebase as your connection, just write here your token code. So let Codersbox arrange your data to your widget."}),Object(a.jsxs)(_e.a,{className:e.formConnection,variant:"outlined",style:{minWidth:220,marginLeft:0,marginTop:20},children:[Object(a.jsx)(Xe.a,{id:"active-connection",children:"Active Connection"}),Object(a.jsxs)(Qe.a,{labelId:"active-connection",id:"active-connection",value:n.boxSettings.activeConnection,onChange:function(e){t(Object(Ke.g)(e.target.value))},label:"Active Connection",children:[Object(a.jsx)($e.a,{value:null,children:Object(a.jsx)("em",{children:"None"})}),i.connectionsList.map((function(e,t){return Object(a.jsx)($e.a,{value:e,children:e},t)}))]})]})]}),Object(a.jsx)(wn.a,{orientation:"vertical",flexItem:!0}),Object(a.jsx)(M.a,{item:!0,xs:12,md:12,lg:8,children:Object(a.jsx)(_e.a,{className:e.formConnection,children:i.connectionsList.map((function(t,o){return Object(a.jsxs)(va.a,{className:e.formConnectionField,children:[Object(a.jsx)(R.a,{variant:"h4",component:"h2",children:t.toUpperCase()}),Object(a.jsx)(wn.a,{variant:"fullWidth"}),i.connectionFields[t].map((function(i,o){return Object(a.jsx)(c.a.Fragment,{children:"databaseType"===i?Object(a.jsxs)(_e.a,{variant:"outlined",style:{minWidth:220,marginLeft:0,marginTop:20},children:[Object(a.jsx)(Xe.a,{disabled:!1,id:"firebase-database",children:"Database type"}),Object(a.jsxs)(Qe.a,{disabled:!1,labelId:"firebase-database",id:"firebase-database",value:n.boxSettings.connection[t][i],onChange:function(e){return r(e.target.value,i,t)},label:"Database type",children:[Object(a.jsx)($e.a,{value:null,children:Object(a.jsx)("em",{children:"None"})}),Object(a.jsx)($e.a,{value:"rtdb",children:"Realtime Database"}),Object(a.jsx)($e.a,{value:"firestore",children:"Firestore"})]})]}):"TLS"===i?Object(a.jsx)(L.a,{control:Object(a.jsx)(P.a,{checked:n.boxSettings.connection[t][i],onChange:function(e){return r(e.target.checked,i,t)},name:"checkedB",color:"primary"}),label:"Using TLS"}):Object(a.jsx)(W.a,{type:"password"===i?"password":"text",className:e.formConnectionTextField,disabled:!1,variant:"outlined",multiline:"firebaseToken"===i,rows:"firebaseToken"===i?5:1,id:i,label:i,value:n.boxSettings.connection[t][i],onChange:function(e){return r(e.target.value,i,t)}})},o)}))]},o)}))})})]})})}function ya(e){var t=e.children,n=e.value,i=e.index,c=Object(ra.a)(e,["children","value","index"]);return Object(a.jsx)("div",Object(s.a)(Object(s.a)({role:"tabpanel",hidden:n!==i,id:"scrollable-auto-tabpanel-".concat(i),"aria-labelledby":"scrollable-auto-tab-".concat(i)},c),{},{children:n===i&&Object(a.jsx)(E.a,{p:3,children:Object(a.jsx)(R.a,{children:t})})}))}function Sa(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}var Ca=Object(V.a)((function(e){return{root:{flexGrow:1,width:"100%",backgroundColor:e.palette.background.paper,marginTop:20}}}));function ka(){var e=Ca(),t=c.a.useState(0),n=Object(B.a)(t,2),i=n[0],r=n[1];return Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)(oa.a,{position:"static",color:"default",children:Object(a.jsxs)(sa.a,{value:i,onChange:function(e,t){r(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"on","aria-label":"scrollable auto tabs example",children:[Object(a.jsx)(la.a,Object(s.a)({icon:Object(a.jsx)(ha.a,{}),label:"Box"},Sa(0))),Object(a.jsx)(la.a,Object(s.a)({icon:Object(a.jsx)(pa.a,{}),label:"Data Field"},Sa(1))),Object(a.jsx)(la.a,Object(s.a)({icon:Object(a.jsx)(fa.a,{}),label:"Connection"},Sa(2)))]})}),Object(a.jsx)(ya,{value:i,index:0,children:Object(a.jsx)(ua,{})}),Object(a.jsx)(ya,{value:i,index:1,children:Object(a.jsx)(ja,{})}),Object(a.jsx)(ya,{value:i,index:2,children:Object(a.jsx)(wa,{})})]})}var Na=n(119);function Ia(e){var t=Object(ce.b)(),n=new ce.a(t),r=Object(b.b)(),o=Object(b.d)((function(e){return e.box})),s=function(){var e=Object(ie.a)(ae.a.mark((function e(){var t,a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getConnectionList();case 3:t=e.sent,a=t.data.data,r(Object(Na.b)(a.connectionFields)),r(Object(Na.c)(a.connectionsList)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Box Settings Container",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){return s(),function(){0!==o.boxId&&t.cancel()}}),[]),Object(a.jsx)(c.a.Fragment,{children:e.children})}var Ta=c.a.lazy((function(){return Promise.all([n.e(3),n.e(4)]).then(n.bind(null,847))}));var Ba=n.p+"static/media/profilebackground.b78c3775.png",Da=Object(V.a)((function(e){return{rootBackgroundCard:{backgroundImage:"url(".concat(Ba,")"),backgroundColor:"#1976D2",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"cover",position:"relative",top:-50,height:300},codersBackground:{height:250,width:"100%"},userAvatar:{height:120,width:120,position:"relative",left:e.spacing(8),bottom:e.spacing(8),border:20,borderColor:"white"}}}));var Fa=Object(V.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function Wa(){return Object(a.jsxs)(R.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(a.jsx)(A.a,{color:"inherit",href:"https://material-ui.com/",children:"Coders.Id"})," ",(new Date).getFullYear(),"."]})}var La=Object(ce.b)(),Pa=new ce.a(La);function Aa(){var e,t=Fa(),n=Object(i.useContext)(g.a),c=Object(T.g)(),r=Object(J.a)({mode:"onChange",reValidateMode:"onChange",defaultValues:{firstName:"",lastName:"",email:"",password:"",passwordConfirmation:"",remember:!1}}),o=r.register,s=r.getValues,l=r.errors,d=function(e){return console.log(e)},u=function(e){return console.log(e)};return Object(i.useEffect)((function(){return n.isLoggedIn&&c.push("/dashbox"),function(){La.cancel()}}),[]),Object(a.jsxs)(q.a,{component:"main",maxWidth:"xs",children:[Object(a.jsx)(F.a,{}),Object(a.jsxs)("div",{className:t.paper,children:[Object(a.jsx)($,{}),Object(a.jsx)(R.a,{component:"h1",variant:"h5",children:"Sign up for CodersBox"}),Object(a.jsxs)("form",{className:t.form,method:"post",children:[Object(a.jsxs)(M.a,{container:!0,spacing:2,children:[Object(a.jsxs)(M.a,{item:!0,xs:12,sm:6,children:[Object(a.jsx)(W.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,inputRef:o({required:"You must provide your first name!",pattern:{message:"You must provide your first name"}}),error:!!l.firstName,className:t.margin}),l.firstName&&Object(a.jsx)("span",{className:t.error,children:l.firstName.message})]}),Object(a.jsx)(M.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(W.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",inputRef:o({required:"You must provide your last name!",pattern:{message:"You must provide your last name"}})})}),Object(a.jsxs)(M.a,{item:!0,xs:12,children:[Object(a.jsx)(W.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,inputRef:o({required:"You must provide the email address!",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"You must provide a valid email address!"}}),error:!!l.email,className:t.margin}),l.email&&Object(a.jsx)("span",{className:t.error,children:l.email.message})]}),Object(a.jsxs)(M.a,{item:!0,xs:12,children:[Object(a.jsx)(W.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",inputRef:o({required:"You must provide a password.",minLength:{value:8,message:"Your password must be greater than 8 characters"}}),error:!!l.password}),l.password&&Object(a.jsx)("span",{className:t.error,children:l.password.message})]}),Object(a.jsxs)(M.a,{item:!0,xs:12,children:[Object(a.jsx)(W.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"passwordConfirmation",label:"PasswordConfirmation",type:"password",id:"passwordConfirmation",autoComplete:"current-password",inputRef:o({required:"Your Password Mismatch",minLength:{value:"password",message:"Your Password Mismatch"}}),error:!!l.passwordConfirmation}),l.password&&Object(a.jsx)("span",{className:t.error,children:null===(e=l.passwordConfirmation)||void 0===e?void 0:e.message})]}),Object(a.jsx)(M.a,{item:!0,xs:12,children:Object(a.jsx)(L.a,{control:Object(a.jsx)(P.a,{value:"allowExtraEmails",color:"primary"}),label:"I want to receive inspiration, marketing promotions and updates via email."})})]}),Object(a.jsx)(D.a,{fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(){return function(){var e={fullName:"".concat(s().firstName," ").concat(s().lastName),userName:"".concat(s().firstName).concat(s().lastName).concat(Math.floor(100*Math.random())),email:s().email,password:s().password,password_confirmation:s().passwordConfirmation};0===Object.keys(l).length&&Pa.getUserCookie().then((function(){Pa.saveNewUser(e).then(d).catch(u)})).catch(u)}()},children:"Sign Up"}),Object(a.jsx)(M.a,{container:!0,justify:"flex-end",children:Object(a.jsx)(M.a,{item:!0,children:Object(a.jsx)(A.a,{href:"/login",variant:"body2",children:"Already have an account? Sign in"})})})]})]}),Object(a.jsx)(E.a,{mt:5,children:Object(a.jsx)(Wa,{})})]})}var Ma=n(85),Ea=n.n(Ma),Ua=Object(V.a)((function(e){return{accountContainer:{marginTop:e.spacing(2)},accountFieldContainer:{flex:1,"& .MuiTextField-root":{width:"60%"}},accountCardAction:Object(s.a)({backgroundColor:"#d7edf5",flex:1,justifyContent:"flex-end"},e.typography.button)}})),Ra=Object(ce.b)(),qa=new ce.a(Ra);function Va(){var e=Ua(),t=Object(b.b)(),n=Object(i.useState)(""),r=Object(B.a)(n,2),o=r[0],s=r[1],l=Object(i.useState)(""),d=Object(B.a)(l,2),j=d[0],x=d[1],g=Object(i.useState)(""),h=Object(B.a)(g,2),O=h[0],p=h[1],m=Object(i.useState)(!1),f=Object(B.a)(m,2),v=f[0],w=f[1],y=function(){var e=Object(ie.a)(ae.a.mark((function e(){var n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={activePassword:o,password:j,password_confirmation:O},t(Object(u.f)(!0)),e.next=5,qa.updateUserPassword(n);case 5:t(Object(u.e)({message:"Password changed successfully",isOpen:!0,severity:"success",fetchingStatus:!1})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),t(Object(u.e)({message:"Password changed failed",isOpen:!0,severity:"error",fetchingStatus:!1}));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){return function(){return Ra.cancel()}}),[]),Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsxs)(M.a,{item:!0,lg:4,md:4,xs:12,children:[Object(a.jsx)(R.a,{variant:"h5",children:"Password"}),Object(a.jsx)(R.a,{variant:"subtitle1",component:"h4",color:"textSecondary",children:"Password management"})]}),Object(a.jsx)(M.a,{item:!0,lg:8,md:8,xs:12,children:Object(a.jsxs)(re.a,{children:[Object(a.jsx)(le.a,{className:e.accountFieldContainer,children:Object(a.jsxs)(M.a,{direction:"column",container:!0,spacing:3,children:[Object(a.jsx)(M.a,{item:!0,children:Object(a.jsx)(W.a,{type:v?"text":"password",onChange:function(e){return s(e.target.value)},variant:"outlined",id:"active-password",label:"Active Password",InputProps:{endAdornment:Object(a.jsx)(ba.a,{position:"end",children:Object(a.jsx)(ft.a,{onClick:function(){return w((function(e){return!e}))},children:v?Object(a.jsx)(ve.a,{}):Object(a.jsx)(Ea.a,{})})})}})}),Object(a.jsx)(M.a,{item:!0,children:Object(a.jsx)(W.a,{type:v?"text":"password",onChange:function(e){return x(e.target.value)},variant:"outlined",id:"new-password",label:"New Password",InputProps:{endAdornment:Object(a.jsx)(ba.a,{position:"end",children:Object(a.jsx)(ft.a,{onClick:function(){return w((function(e){return!e}))},children:v?Object(a.jsx)(ve.a,{}):Object(a.jsx)(Ea.a,{})})})}})}),Object(a.jsx)(M.a,{item:!0,children:Object(a.jsx)(W.a,{type:v?"text":"password",onChange:function(e){return p(e.target.value)},variant:"outlined",id:"confirm-new-password",label:"Re-type new password",InputProps:{endAdornment:Object(a.jsx)(ba.a,{position:"end",children:Object(a.jsx)(ft.a,{onClick:function(){return w((function(e){return!e}))},children:v?Object(a.jsx)(ve.a,{}):Object(a.jsx)(Ea.a,{})})})}})})]})}),Object(a.jsx)(se.a,{className:e.accountCardAction,children:Object(a.jsx)(D.a,{onClick:y,variant:"contained",color:"primary",children:"Save"})})]})})]})}var za=n(632);function Ja(){var e=Ua(),t=Object(i.useContext)(g.a);return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsxs)(M.a,{item:!0,lg:4,md:4,xs:12,children:[Object(a.jsx)(R.a,{variant:"h5",children:"Profile"}),Object(a.jsx)(R.a,{variant:"subtitle1",component:"h4",color:"textSecondary",gutterBottom:!0,children:"Profile Information"})]}),Object(a.jsx)(M.a,{item:!0,lg:8,md:8,xs:12,children:Object(a.jsxs)(re.a,{children:[Object(a.jsxs)(le.a,{className:e.accountFieldContainer,children:[Object(a.jsx)(R.a,{component:"h1",variant:"subtitle1",color:"textSecondary",children:"Email"}),Object(a.jsx)(Ge.a,{avatar:Object(a.jsx)(za.a,{"aria-label":"username",children:"DB"}),title:t.userName,subheader:t.userEmail}),Object(a.jsx)("br",{}),Object(a.jsx)(W.a,{disabled:!0,value:t.userName,variant:"outlined",id:"username",label:"Username"})]}),Object(a.jsx)(se.a,{className:e.accountCardAction})]})})]})}var Ya=Object(ce.b)(),Ha=new ce.a(Ya);function Ga(){var e=Ua(),t=Object(b.b)(),n=Object(i.useContext)(g.a),r=Object(i.useState)(n.userTelegramID),o=Object(B.a)(r,2),s=o[0],l=o[1],d=Object(i.useState)(!1),j=Object(B.a)(d,2),x=j[0],h=j[1],O=function(){var e=Object(ie.a)(ae.a.mark((function e(){var n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={telegramID:s},t(Object(u.f)(!0)),e.next=5,Ha.updateUserTelegramID(n);case 5:t(Object(u.e)({message:"Telegram ID updated successfully",isOpen:!0,severity:"success",fetchingStatus:!1})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),t(Object(u.e)({message:"Telegram ID update failed",isOpen:!0,severity:"error",fetchingStatus:!1}));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){return function(){return Ya.cancel()}}),[]),Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsxs)(M.a,{item:!0,lg:4,md:4,xs:12,children:[Object(a.jsx)(R.a,{variant:"h5",children:"Telergam"}),Object(a.jsx)(R.a,{variant:"subtitle1",component:"h4",color:"textSecondary",children:"Connect your telegram account by inserting your ID here. So we can notify you for specific event that you have been set"})]}),Object(a.jsx)(M.a,{item:!0,lg:8,md:8,xs:12,children:Object(a.jsxs)(re.a,{children:[Object(a.jsx)(le.a,{className:e.accountFieldContainer,children:Object(a.jsx)(M.a,{direction:"column",container:!0,spacing:3,children:Object(a.jsx)(M.a,{item:!0,children:Object(a.jsx)(W.a,{value:s,type:x?"text":"password",onChange:function(e){return l(e.target.value)},variant:"outlined",id:"telegram-ID",label:"Telegram ID",InputProps:{endAdornment:Object(a.jsx)(ba.a,{position:"end",children:Object(a.jsx)(ft.a,{onClick:function(){return h((function(e){return!e}))},children:x?Object(a.jsx)(ve.a,{}):Object(a.jsx)(Ea.a,{})})})}})})})}),Object(a.jsx)(se.a,{className:e.accountCardAction,children:Object(a.jsx)(D.a,{onClick:O,variant:"contained",color:"primary",children:"Save"})})]})})]})}function _a(){return Object(a.jsx)(M.a,{container:!0,justify:"space-between",alignItems:"center",direction:"row",children:Object(a.jsxs)(M.a,{item:!0,xs:8,md:10,lg:10,children:[Object(a.jsx)(R.a,{variant:"h4",component:"h2",children:"Account"}),Object(a.jsx)(R.a,{variant:"subtitle1",component:"h4",color:"textSecondary",children:"Setting for your account"})]})})}var Za=Object(V.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function Xa(){return Object(a.jsxs)(R.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(a.jsx)(A.a,{color:"inherit",href:"https://material-ui.com/",children:"Coders box"})," ",(new Date).getFullYear(),"."]})}var Qa=n(304),$a=n.n(Qa),Ka=n(302),ei=n.n(Ka),ti=n(303),ni=n.n(ti),ai=n(122),ii=n.n(ai),ci=n(305),ri=n.n(ci),oi=n(306),si=n.n(oi),li=n.p+"static/media/dashboard-image.dd3a8305.svg",di=n(614),ui=n(541),bi=n(588),ji=n(612),xi=n(613),gi=n(296),hi=n.n(gi),Oi=n(295),pi=n.n(Oi);function mi(e){var t=Q();return Object(a.jsx)(ui.a,Object(s.a)({className:t.drawerList,button:!0,component:y.b},e))}function fi(e){var t=Object(b.b)(),n=Object(b.d)((function(e){return e.app})),r=Q(),o=Object(Be.a)(),s=function(){var e=ac.filter((function(e){return!0===e.isDrawerMenu})).reduce((function(e,t,n){return e.groupset=[].concat(Object(I.a)(e.groupset||[]),[t.group]),e}));return Object(I.a)(new Set(e.groupset))}(),l=Object(De.a)(o.breakpoints.down("sm"));return Object(i.useEffect)((function(){t(l?Object(u.c)(!1):Object(u.c)(!0))}),[l]),Object(a.jsxs)(Ln.a,{className:r.drawer,variant:"persistent",anchor:"left",open:n.isDrawerOpen,classes:{paper:r.drawerPaper},children:[Object(a.jsx)("div",{className:r.drawerToolbar,children:Object(a.jsxs)(M.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",children:[Object(a.jsx)(M.a,{item:!0,children:Object(a.jsx)($,{logoType:"boxicon",logoSize:"small"})}),Object(a.jsx)(M.a,{item:!0,children:Object(a.jsx)(ft.a,{color:"secondary",onClick:function(){return t(Object(u.c)(!n.isDrawerOpen))},children:"rtl"===o.direction?Object(a.jsx)(pi.a,{}):Object(a.jsx)(hi.a,{})})})]})}),s.map((function(e,t){return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(wn.a,{className:r.drawerDivider}),Object(a.jsx)(R.a,{className:r.drawerDividerTitle,variant:"h6",children:e}),Object(a.jsx)(bi.a,{className:r.drawerListContainer,children:ac.map((function(t,n){return t.isDrawerMenu&&t.group===e?Object(a.jsxs)(mi,{to:t.path,children:[Object(a.jsx)(ji.a,{children:Object(a.jsx)(t.icon,{})}),Object(a.jsx)(xi.a,{primary:t.name})]},n):null}))})]},t)}))]})}var vi=n(615),wi=n(297),yi=n.n(wi);function Si(){var e=Q(),t=Object(i.useContext)(g.a),n=Object(T.g)(),r=c.a.useState(null),o=Object(B.a)(r,2),s=o[0],l=o[1],d=c.a.useState(null),u=Object(B.a)(d,2),b=u[0],j=u[1],x=Boolean(s),h=Boolean(b),O=function(e){l(e.currentTarget)},p=function(){j(null)},m=function(){l(null),p()},f="primary-search-account-menu",v=Object(a.jsxs)(Zn.a,{anchorEl:s,anchorOrigin:{vertical:"top",horizontal:"right"},id:f,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:x,onClose:m,children:[Object(a.jsx)($e.a,{onClick:function(){m(),n.push("/coders/".concat(t.userName))},children:"Profile"}),Object(a.jsx)($e.a,{onClick:function(){n.push("/account")},children:"My account"}),Object(a.jsx)($e.a,{onClick:function(){t.handleLogout().then((function(){window.location.href="/"}))},children:"Logout"})]}),w="primary-search-account-menu-mobile",y=Object(a.jsx)(Zn.a,{anchorEl:b,anchorOrigin:{vertical:"top",horizontal:"right"},id:w,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:h,onClose:p,children:Object(a.jsxs)($e.a,{onClick:O,children:[Object(a.jsx)(ft.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:Object(a.jsx)(ii.a,{})}),Object(a.jsx)("p",{children:"Account"})]})});return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)("div",{className:e.sectionDesktop,children:Object(a.jsx)(ft.a,{edge:"end","aria-label":"account of current user","aria-controls":f,"aria-haspopup":"true",onClick:O,color:"inherit",children:Object(a.jsx)(ii.a,{})})}),Object(a.jsx)("div",{className:e.sectionMobile,children:Object(a.jsx)(ft.a,{"aria-label":"show more","aria-controls":w,"aria-haspopup":"true",onClick:function(e){j(e.currentTarget)},color:"inherit",children:Object(a.jsx)($n.a,{})})}),y,v]})}function Ci(e){var t=Q(),n=Object(b.d)((function(e){return e.app})),i=Object(b.b)(),c=Object(di.a)();return Object(a.jsx)(ki,Object(s.a)(Object(s.a)({},e),{},{children:Object(a.jsx)(oa.a,{position:"sticky",elevation:c?4:0,className:Object(nt.a)(t.appBar,Object(Z.a)({},t.appBarShift,n.isDrawerOpen)),children:Object(a.jsxs)(vi.a,{className:Object(nt.a)(t.toolbar,e.optStyles),variant:"dense",children:[Object(a.jsx)(ft.a,{className:Object(nt.a)(Object(Z.a)({},t.appBarMenuButtonHide,n.isDrawerOpen)),onClick:function(){return i(Object(u.c)(!0))},edge:"start",children:Object(a.jsx)(yi.a,{className:e.optStyles})}),Object(a.jsx)(y.b,{to:"/dashbox",children:Object(a.jsx)($,{onClick:function(e){return console.log(e)},logoType:"white"})}),Object(a.jsx)("div",{className:t.grow}),Object(a.jsx)(Si,{})]})})}))}function ki(e){var t=e.children,n=e.window,a=Object(di.a)({disableHysteresis:!0,threshold:0,target:n?n():void 0});return c.a.cloneElement(t,{elevation:a?4:0})}var Ni=Object(V.a)((function(e){return{root:{display:"flex"},whiteColor:{color:"#FFFFFF"},content:{flexGrow:1,height:"100vh",overflow:"auto",transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},appBarSpacer:e.mixins.toolbar,dashboard:{backgroundImage:"url(".concat(li,")"),backgroundColor:"#1976D2",backgroundRepeat:"no-repeat",backgroundPosition:"50% 30%",backgroundSize:"cover",position:"relative",top:-50,height:350}}})),Ii=Object(ce.b)();new ce.a(Ii);function Ti(e){var t=Ni(),n=Object(T.h)(),i=Object(b.d)((function(e){return e.app}));return Object(a.jsxs)("div",{className:t.root,children:[Object(a.jsx)(F.a,{}),Object(a.jsx)(fi,{}),Object(a.jsxs)("main",{className:Object(nt.a)(t.content,Object(Z.a)({},t.contentShift,i.isDrawerOpen)),children:[Object(a.jsx)(Ci,Object(s.a)(Object(s.a)({},e),{},{optStyles:t.whiteColor})),"/dashbox"===n.pathname?Object(a.jsx)(Bi,{}):null,Object(a.jsx)(q.a,{className:t.container,children:e.children})]})]})}function Bi(){var e=Ni(),t=Object(i.useState)(0),n=Object(B.a)(t,2),c=n[0],r=n[1],o=Object(di.a)({disableHysteresis:!0,threshold:0,target:window||void 0});return Object(i.useEffect)((function(){function e(){r(window.pageYOffset)}return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[o]),Object(a.jsx)(E.a,{style:{transform:"translateY(".concat(.2*c,"px)")},component:"div",className:e.dashboard})}var Di=n(622),Fi=n(617),Wi=n(621),Li=n(620),Pi=n(616),Ai=n(618),Mi=n(619),Ei=n(299),Ui=n.n(Ei),Ri=n(298),qi=n.n(Ri),Vi=Object(V.a)({table:{minWidth:650}});function zi(){var e=Object(ce.b)(),t=new ce.a(e),n=Object(b.b)(),c=Object(b.d)((function(e){return e.app})),r=Vi(),o=Object(i.useState)([]),s=Object(B.a)(o,2),l=s[0],d=s[1],j=function(){var e=Object(ie.a)(ae.a.mark((function e(){var a,i;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(Object(u.f)(!0)),e.next=4,t.getBoxTrash();case 4:a=e.sent,i=a.data.data,d(i),n(Object(u.e)({message:"Box Trash loaded successfully!",severity:"success",isOpen:!0})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Trash Page",e.t0),n(Object(u.e)({message:"Box Trash loaded failed!",severity:"error",isOpen:!0}));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(ie.a)(ae.a.mark((function e(a){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(Object(u.f)(!0)),e.next=4,t.getBoxTrashRestore(a);case 4:d((function(e){return e.filter((function(e){return e.boxToken!==a}))})),n(Object(u.e)({message:"Box was restored successfully!",severity:"success",isOpen:!0})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Trash Page",e.t0),n(Object(u.e)({message:"Box Trash restore failed!",severity:"error",isOpen:!0}));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(ie.a)(ae.a.mark((function e(a,i){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(Object(u.f)(!0)),e.next=4,t.getBoxTrashDelete(a,i);case 4:d((function(e){return e.filter((function(e){return e.boxToken!==a}))})),n(Object(u.e)({message:"Box was deleted permanently",severity:"warning",isOpen:!0})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Trash Page",e.t0),n(Object(u.e)({message:"Box Trash delete permanently failed!",severity:"error",isOpen:!0}));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){return j(),function(){0!==l.length&&e.cancel()}}),[]),Object(a.jsx)(M.a,{item:!0,lg:12,md:12,xs:12,children:Object(a.jsx)(Pi.a,{component:vn.a,children:Object(a.jsxs)(Fi.a,{className:r.table,"aria-label":"Box Trash",children:[Object(a.jsx)(Ai.a,{children:Object(a.jsxs)(Mi.a,{children:[Object(a.jsx)(Li.a,{children:"Box Name"}),Object(a.jsx)(Li.a,{align:"center",children:"Box Tag Name"}),Object(a.jsx)(Li.a,{align:"center",children:"Box Unique Token"}),Object(a.jsx)(Li.a,{align:"center",children:"Device Unique Token"}),Object(a.jsx)(Li.a,{align:"center",children:"Delete At"}),Object(a.jsx)(Li.a,{align:"center",children:"Actions"})]})}),Object(a.jsx)(Wi.a,{children:l.length>0?l.map((function(e){return Object(a.jsxs)(Mi.a,{hover:!0,children:[Object(a.jsx)(Li.a,{component:"th",scope:"row",children:e.boxName}),Object(a.jsx)(Li.a,{align:"center",children:e.boxTagName}),Object(a.jsx)(Li.a,{align:"center",children:e.boxToken}),Object(a.jsx)(Li.a,{align:"center",children:e.boxDeviceToken}),Object(a.jsx)(Li.a,{align:"center",children:e.deleteTime}),Object(a.jsx)(Li.a,{align:"center",children:c.fetchingStatus?Object(a.jsx)(U.a,{size:25,color:"primary"}):Object(a.jsxs)(Di.a,{variant:"contained",children:[Object(a.jsx)(It.a,{title:"Restore your box to active",children:Object(a.jsx)(D.a,{onClick:function(){return x(e.boxToken)},color:"primary",children:Object(a.jsx)(qi.a,{})})}),Object(a.jsx)(It.a,{title:"Delete Your Box Permanently",children:Object(a.jsx)(D.a,{onClick:function(){return g(e.boxToken,e.boxDeviceToken)},color:"secondary",children:Object(a.jsx)(Ui.a,{})})})]})})]},e.boxToken)})):c.fetchingStatus?Object(a.jsxs)(Mi.a,{children:[Object(a.jsx)(Li.a,{component:"th",scope:"row",children:Object(a.jsx)(Dn.a,{animation:"wave"})}),Object(a.jsx)(Li.a,{align:"center",children:Object(a.jsx)(Dn.a,{animation:"wave"})}),Object(a.jsx)(Li.a,{align:"center",children:Object(a.jsx)(Dn.a,{animation:"wave"})}),Object(a.jsx)(Li.a,{align:"center",children:Object(a.jsx)(Dn.a,{animation:"wave"})}),Object(a.jsx)(Li.a,{align:"center",children:Object(a.jsx)(Dn.a,{animation:"wave"})})]}):Object(a.jsx)(Mi.a,{children:Object(a.jsx)(Li.a,{colSpan:5,align:"center",children:Object(a.jsx)(R.a,{variant:"subtitle1",component:"h4",color:"textSecondary",children:"No Box Trashed"})})})})]})})})}function Ji(){return Object(a.jsx)(M.a,{container:!0,justify:"space-between",alignItems:"center",direction:"row",children:Object(a.jsxs)(M.a,{item:!0,xs:8,md:10,lg:10,children:[Object(a.jsx)(R.a,{variant:"h4",component:"h2",children:"Box Trash"}),Object(a.jsx)(R.a,{variant:"subtitle1",component:"h4",color:"textSecondary",children:"All Boxes that no longer active. You can still restore it here"})]})})}var Yi=Object(V.a)((function(e){return{accountContainer:{marginTop:e.spacing(2)},accountFieldContainer:{flex:1,"& .MuiTextField-root":{width:"60%"}},accountCardAction:Object(s.a)({backgroundColor:"#d7edf5",flex:1,justifyContent:"flex-end"},e.typography.button)}}));var Hi=n(633),Gi=n(301),_i=n.n(Gi),Zi=n(300),Xi=n.n(Zi),Qi=n(202),$i=n.n(Qi),Ki=Object(V.a)({table:{minWidth:650}});function ec(){var e=Object(ce.b)(),t=new ce.a(e),n=Object(b.b)(),c=Object(b.d)((function(e){return e.app})),r=Ki(),o=Object(i.useState)([]),s=Object(B.a)(o,2),l=s[0],d=s[1],j=Object(i.useState)(!1),x=Object(B.a)(j,2),g=x[0],h=x[1],O=function(){var e=Object(ie.a)(ae.a.mark((function e(){var a,i;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(Object(u.f)(!0)),e.next=4,t.getBoxAPI();case 4:a=e.sent,i=a.data.data,d(i),n(Object(u.e)({message:"Box Trash load successfully",isOpen:!0,severity:"success",fetchingStatus:!1})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("API Page",e.t0),n(Object(u.e)({message:"Box Trash load failed!",isOpen:!0,severity:"error",fetchingStatus:!1}));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){return O(),function(){0!==l.length&&e.cancel()}}),[]),Object(a.jsx)(M.a,{item:!0,lg:12,md:12,xs:12,children:Object(a.jsx)(Pi.a,{component:vn.a,children:Object(a.jsxs)(Fi.a,{className:r.table,"aria-label":"Box Trash",children:[Object(a.jsx)(Ai.a,{children:Object(a.jsxs)(Mi.a,{children:[Object(a.jsx)(Li.a,{children:"Box Name"}),Object(a.jsx)(Li.a,{align:"center",children:"Box Unique Token"}),Object(a.jsx)(Li.a,{align:"center",children:"Device Unique Token"}),Object(a.jsx)(Li.a,{align:"center",children:"Status"})]})}),Object(a.jsx)(Wi.a,{children:l.length>0?l.map((function(e){return Object(a.jsxs)(Mi.a,{hover:!0,children:[Object(a.jsx)(Li.a,{component:"th",scope:"row",children:e.boxName}),Object(a.jsx)(Li.a,{align:"center",children:Object(a.jsx)(W.a,{value:e.boxToken,type:g?"text":"password",variant:"outlined",InputProps:{endAdornment:Object(a.jsxs)(ba.a,{position:"end",children:[Object(a.jsx)(ft.a,{onClick:function(){return h((function(e){return!e}))},children:g?Object(a.jsx)(ve.a,{}):Object(a.jsx)(Ea.a,{})}),Object(a.jsx)(ft.a,{onClick:function(){navigator.clipboard.writeText(e.boxToken)},children:Object(a.jsx)($i.a,{})})]})}})}),Object(a.jsx)(Li.a,{align:"center",children:Object(a.jsx)(W.a,{value:e.boxDeviceToken,type:g?"text":"password",variant:"outlined",InputProps:{endAdornment:Object(a.jsxs)(ba.a,{position:"end",children:[Object(a.jsx)(ft.a,{onClick:function(){return h((function(e){return!e}))},children:g?Object(a.jsx)(ve.a,{}):Object(a.jsx)(Ea.a,{})}),Object(a.jsx)(ft.a,{onClick:function(){navigator.clipboard.writeText(e.boxDeviceToken)},children:Object(a.jsx)($i.a,{})})]})}})}),Object(a.jsx)(Li.a,{align:"center",children:"active"===e.boxStatus?Object(a.jsx)(Hi.a,{label:e.boxStatus,color:"primary",size:"small",icon:Object(a.jsx)(Xi.a,{})}):Object(a.jsx)(Hi.a,{label:e.boxStatus,color:"secondary",size:"small",icon:Object(a.jsx)(_i.a,{})})})]},e.boxToken)})):c.fetchingStatus?Object(a.jsxs)(Mi.a,{children:[Object(a.jsx)(Li.a,{component:"th",scope:"row",children:Object(a.jsx)(Dn.a,{animation:"wave"})}),Object(a.jsx)(Li.a,{align:"center",children:Object(a.jsx)(Dn.a,{animation:"wave"})}),Object(a.jsx)(Li.a,{align:"center",children:Object(a.jsx)(Dn.a,{animation:"wave"})}),Object(a.jsx)(Li.a,{align:"center",children:Object(a.jsx)(Dn.a,{animation:"wave"})}),Object(a.jsx)(Li.a,{align:"center",children:Object(a.jsx)(Dn.a,{animation:"wave"})})]}):Object(a.jsx)(Mi.a,{children:Object(a.jsx)(Li.a,{colSpan:5,align:"center",children:Object(a.jsx)(R.a,{variant:"subtitle1",component:"h4",color:"textSecondary",children:"No Box Trashed"})})})})]})})})}function tc(){return Object(a.jsx)(M.a,{container:!0,justify:"space-between",alignItems:"center",direction:"row",children:Object(a.jsxs)(M.a,{item:!0,xs:8,md:10,lg:10,children:[Object(a.jsx)(R.a,{variant:"h4",component:"h2",children:"Box API page"}),Object(a.jsx)(R.a,{variant:"subtitle1",component:"h4",color:"textSecondary",children:"Use your box token and device token to send or receive data on your device"})]})})}var nc=Object(V.a)((function(e){return{accountContainer:{marginTop:e.spacing(2)},accountFieldContainer:{flex:1,"& .MuiTextField-root":{width:"60%"}},accountCardAction:Object(s.a)({backgroundColor:"#d7edf5",flex:1,justifyContent:"flex-end"},e.typography.button)}}));var ac=[{path:"/login",name:"Login",group:null,isPrivate:!1,isExact:!0,isDrawerMenu:!1,component:function(){return Object(a.jsx)(te,{})},icon:function(){return Object(a.jsx)(ei.a,{})}},{path:"/signup",name:"SignUp",group:null,isPrivate:!1,isExact:!0,isDrawerMenu:!1,component:function(){return Object(a.jsx)(Aa,{})},icon:function(){return Object(a.jsx)(ni.a,{})}},{path:"/dashbox",name:"Dashbox",group:"Box",isPrivate:!0,isExact:!0,isDrawerMenu:!0,component:function(){var e=Object(ce.b)(),t=new ce.a(e),n=Object(b.d)((function(e){return e.app})),r=Object(b.d)((function(e){return e.dashboardPage})),o=Object(b.b)(),s=function(){var e=Object(ie.a)(ae.a.mark((function e(){var n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(Object(u.f)(!0)),e.prev=1,e.next=4,t.getBoxUser();case 4:n=e.sent,o(Object(ye.e)(n.data.data.boxes)),o(Object(u.e)({message:"All box has been loaded!",severity:"success",isOpen:!0,fetchingStatus:!1})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Dashboard page ",e.t0),o(Object(u.e)({message:"Box failed to load!",severity:"error",isOpen:!0,fetchingStatus:!1}));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){n.shouldRender&&o(Object(u.b)(!1))}),[n.shouldRender]),Object(i.useEffect)((function(){return 0===r.boxes.length&&s(),function(){0!==r.boxes.length&&e.cancel()}}),[]),Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(R.a,{variant:"h5",color:"textPrimary",gutterBottom:!0,children:"Your box"}),Object(a.jsxs)(M.a,{container:!0,spacing:2,children:[0!==r.boxes.length?r.boxes.map((function(e,t){return Object(a.jsx)(M.a,{item:!0,xs:12,md:6,lg:3,children:Object(a.jsx)(Ne,{name:e.boxName,description:e.boxTagName,boxToken:e.boxToken})},t)})):null,Object(a.jsx)(M.a,{style:{display:n.fetchingStatus?"block":"none"},item:!0,xs:12,md:4,lg:3,children:Object(a.jsx)(Te,{})}),Object(a.jsx)(Me,{})]})]})},icon:function(){return Object(a.jsx)($a.a,{})}},{path:"/boxapi",name:"API",group:"Box",isPrivate:!0,isExact:!0,isDrawerMenu:!0,component:function(){var e=nc();return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(tc,{}),Object(a.jsx)(wn.a,{}),Object(a.jsx)(M.a,{className:e.accountContainer,container:!0,spacing:4,children:Object(a.jsx)(ec,{})})]})},icon:function(){return Object(a.jsx)(ri.a,{})}},{path:"/box/:uniqueBoxToken",name:"Box",group:"Box",isPrivate:!0,isExact:!0,isDrawerMenu:!1,component:function(){var e=Object(b.b)();return Object(i.useEffect)((function(){return function(){e(Object(Ke.f)()),e(Object(He.b)())}}),[]),Object(a.jsx)(c.a.Fragment,{children:Object(a.jsxs)(Fn,{children:[Object(a.jsx)(Ye,{}),Object(a.jsx)(ca,{}),Object(a.jsx)(Bn,{}),Object(a.jsx)(Rn,{})]})})},icon:function(){return Object(a.jsx)(ha.a,{})}},{path:"/box/:uniqueBoxToken/settings",name:"Box Settings",group:"Box",isPrivate:!0,isExact:!0,isDrawerMenu:!1,component:function(e){var t=Object(b.d)((function(e){return e.app}));return Object(a.jsx)(Ia,{children:Object(a.jsxs)(M.a,{container:!0,spacing:3,direction:"column",children:[Object(a.jsx)(c.a.Suspense,{fallback:Object(a.jsx)(Dn.a,{variant:"rect",width:400,height:40}),children:Object(a.jsx)(Ta,{})}),Object(a.jsx)(wn.a,{}),t.fetchingStatus?Object(a.jsx)(zn.a,{width:400,height:500}):Object(a.jsx)(ka,{})]})})},icon:function(){return null}},{path:"/trash",name:"Box Trash",group:"Box",isPrivate:!0,isExact:!0,isDrawerMenu:!0,component:function(){var e=Yi();return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(Ji,{}),Object(a.jsx)(wn.a,{}),Object(a.jsx)(M.a,{className:e.accountContainer,container:!0,spacing:4,children:Object(a.jsx)(zi,{})})]})},icon:function(){return Object(a.jsx)(si.a,{})}},{path:"/coders/:username",name:"Coders Profile Page",group:"Users",isPrivate:!0,isExact:!0,isDrawerMenu:!1,component:function(){var e=Da();return Object(a.jsx)(M.a,{container:!0,justify:"flex-start",alignItems:"center",children:Object(a.jsx)(M.a,{item:!0,xs:12,md:12,lg:12,children:Object(a.jsx)(vn.a,{elevation:0,className:e.rootBackgroundCard})})})},icon:function(){return null}},{path:"/account",name:"Account",group:"Users",isPrivate:!0,isExact:!0,isDrawerMenu:!0,component:function(){var e=Ua();return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(_a,{}),Object(a.jsx)(wn.a,{}),Object(a.jsxs)(M.a,{className:e.accountContainer,container:!0,spacing:4,children:[Object(a.jsx)(Ja,{}),Object(a.jsx)(wn.a,{flexItem:!0}),Object(a.jsx)(Va,{}),Object(a.jsx)(wn.a,{flexItem:!0}),Object(a.jsx)(Ga,{})]})]})},icon:function(){return Object(a.jsx)(ii.a,{})}},{path:"/lost",name:"Lost Page",group:"Utils",isPrivate:!1,isExact:!0,isDrawerMenu:!1,component:function(){var e=Za();return Object(i.useEffect)((function(){var e=setTimeout((function(){window.location.href="/"}),5e3);return function(){clearTimeout(e)}}),[]),Object(a.jsxs)(q.a,{component:"main",maxWidth:"xs",children:[Object(a.jsx)(F.a,{}),Object(a.jsxs)("div",{className:e.paper,children:[Object(a.jsx)($,{logoSize:"medium"}),Object(a.jsx)(R.a,{variant:"h1",gutterBottom:!0,children:"404"}),Object(a.jsx)(R.a,{variant:"h2",gutterBottom:!0,children:"Not Found"})]}),Object(a.jsx)(E.a,{mt:8,children:Object(a.jsx)(Xa,{})})]})},icon:function(){return null}}];function ic(){var e=Object(i.useContext)(g.a);return Object(a.jsxs)(T.d,{children:[ac.map((function(t,n){return Object(a.jsx)(T.b,{exact:t.isExact,path:t.path,component:t.isPrivate?cc(e.isLoggedIn)(t.component):t.component},n)})),Object(a.jsx)(T.b,{path:"/",exact:!0,render:function(){return Object(a.jsx)(T.a,{to:"/login"})}}),Object(a.jsx)(T.b,{path:"*",exact:!0,render:function(){return Object(a.jsx)(T.a,{to:"/lost"})}})]})}var cc=function(e){return function(t){return function(n){Object(k.a)(c,n);var i=Object(N.a)(c);function c(){return Object(S.a)(this,c),i.apply(this,arguments)}return Object(C.a)(c,[{key:"render",value:function(){return e?Object(a.jsx)(On.a,{children:Object(a.jsx)(Ti,{children:Object(a.jsx)(t,{})})}):Object(a.jsx)(T.a,{to:"/login"})}}]),c}(c.a.Component)}},rc=Object(h.a)({palette:{primary:m.a,secondary:v.a}});var oc=function(){return Object(a.jsx)(w.a,{store:b.a,children:Object(a.jsx)(g.c,{children:Object(a.jsx)(y.a,{children:Object(a.jsxs)(O.a,{theme:rc,children:[Object(a.jsx)(x,{}),Object(a.jsx)(ic,{})]})})})})},sc=function(e){e&&e instanceof Function&&n.e(5).then(n.bind(null,849)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),i(e),c(e),r(e)}))};o.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(oc,{})}),document.getElementById("root")),sc()},55:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return l}));var a=n(40),i=Object(a.b)({name:"WidgetUISlice",initialState:{widgetsLayout:[],useOwnDataField:!1,widgetIndexLayout:0},reducers:{resetWidgetUILayout:function(e){e.widgetsLayout=[]},setWidgetUILayout:function(e,t){e.widgetsLayout=e.widgetsLayout.concat(t.payload)},setWidgetUIuseOwnDataField:function(e,t){e.useOwnDataField=t.payload},setWidgetIndexLayout:function(e,t){e.widgetIndexLayout=t.payload}}}),c=i.actions,r=c.resetWidgetUILayout,o=c.setWidgetUILayout,s=c.setWidgetUIuseOwnDataField,l=c.setWidgetIndexLayout;t.a=i.reducer},60:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return l}));var a=n(157),i=n(0),c=n(88),r={isBoxEditMode:!1,shouldBoxRefresh:!1,mqtt:{},boxId:0,boxToken:"",boxDeviceToken:"",boxName:"",boxTagName:"",boxDescription:"",boxActiveStatus:!0,boxSettings:{dataField:[],layout:{},activeConnection:"",connection:{mqtt:{broker:"",subscribeTopic:"",publishTopic:"",authentication:""},firebase:{databaseType:"",firebaseToken:""},codersbox:{deviceToken:""}}},boxWidgets:[],createdTime:"",updatedTime:"",boxCols:0,connectionsList:[],connectionFields:{},boxWidgetCreator:[]},o=function(){var e=d();return Object(i.useCallback)((function(t){e(Object(a.a)(t))}),[e])},s=Object(c.a)((function(){return Object(i.useState)(r)})),l=s.Provider,d=(s.useTracked,s.useUpdate);s.useTrackedState},72:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return l}));var a=n(40),i=Object(a.b)({name:"DashboardSlice",initialState:{isAddNewBox:!1,boxes:[],newBoxCreator:{boxToken:"",boxName:"",boxTagName:"",boxDescription:"",boxUserId:0}},reducers:{setAddNewBox:function(e,t){e.isAddNewBox=t.payload},setUserBoxes:function(e,t){e.boxes=t.payload},setNewBoxCreator:function(e,t){e.newBoxCreator[t.payload.field]=t.payload.value},deleteUserBox:function(e,t){e.boxes=e.boxes.filter((function(e){return e.boxToken!==t.payload}))}}}),c=i.actions,r=c.setAddNewBox,o=c.setUserBoxes,s=c.setNewBoxCreator,l=c.deleteUserBox;t.a=i.reducer},79:function(e,t,n){"use strict";var a=n(0),i=n(88),c={isDrawerOpen:!0,isAddNewBox:!1,isAddNewWidget:!1,isEditWidget:!1,fetchingStatus:!1,fetchingMessage:{message:"",severity:"info",isOpen:!1},shouldRender:!1,boxes:[]},r=Object(i.a)((function(){return Object(a.useState)(c)}));r.Provider,r.useTracked,r.useUpdate,r.useTrackedState},9:function(e,t,n){"use strict";n.d(t,"d",(function(){return v})),n.d(t,"c",(function(){return w})),n.d(t,"b",(function(){return y}));var a=n(43),i=n(36),c=n(118),r=n(17),o=n(55),s=n(72),l=n(119),d=n(40),u=n(123),b=n(88),j=n(13),x=n(46),g=n.n(x),h="codersbox_state",O=Object(d.b)({name:"AuthSlice",initialState:{isLoggedIn:!1,userName:"",userEmail:"",userId:0,authToken:"",userTelegramID:0},reducers:{handleLogout:function(e,t){e.isLoggedIn=!1,e.userEmail="",e.userId=0,e.userName="",e.userTelegramID=0,e.authToken="",g.a.remove(h,{expires:1,sameSite:"Lax"}),g.a.remove("codersbox_session",{expires:1,sameSite:"Lax"})},handleLogin:function(e,t){e.isLoggedIn=t.payload.isLoggedIn,e.userEmail=t.payload.userEmail,e.userId=t.payload.userId,e.userName=t.payload.userName,e.userTelegramID=t.payload.userTelegramID,e.authToken=t.payload.authToken,g.a.set(h,"true",{expires:1,sameSite:"Lax"})},handleAutoLogin:function(e,t){}}}),p=O.actions,m=(p.handleLogout,p.handleLogin,O.reducer),f=Object(d.a)({reducer:{app:j.a,auth:m,box:a.c,widget:r.a,widgetUI:o.a,widgetData:c.a,boxSettings:l.a,dashboardPage:s.a,boxPageUI:i.a}}),v=u.c,w=Object(b.b)(v),y=function(){return Object(u.b)()};t.a=f}},[[531,1,2]]]);
//# sourceMappingURL=main.22f05c8b.chunk.js.map